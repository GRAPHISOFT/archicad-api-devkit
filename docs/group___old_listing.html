<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Old Listing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___old_listing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Old Listing</div></div>
</div><!--header-->
<div class="contents">

<p>The API of the deprecated (legacy) Listing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___list_data_set_type.html">API_ListDataSetType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Representation of a listdata set.  <a href="struct_a_p_i___list_data_set_type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___list_data___head.html">API_ListData_Head</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains common information related to all listing component types.  <a href="struct_a_p_i___list_data___head.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___key_type.html">API_KeyType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of a key.  <a href="struct_a_p_i___key_type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___unit_type.html">API_UnitType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of an unit.  <a href="struct_a_p_i___unit_type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___obsolete___component_type.html">API_Obsolete_ComponentType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of a component.  <a href="struct_a_p_i___obsolete___component_type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___descriptor_type.html">API_DescriptorType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of a descriptor.  <a href="struct_a_p_i___descriptor_type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_a_p_i___list_data.html">API_ListData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The representation of a listdata.  <a href="union_a_p_i___list_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad54fa78ba87e7fbf43ef1e2c65a8f546" id="r_gad54fa78ba87e7fbf43ef1e2c65a8f546"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">API_ListDataID</a> { <br />
&#160;&#160;<b>API_ZombieListDataID</b>
, <b>API_KeyID</b>
, <b>API_UnitID</b>
, <b>API_Obsolete_ComponentID</b>
, <br />
&#160;&#160;<b>API_DescriptorID</b>
<br />
 }</td></tr>
<tr class="memdesc:gad54fa78ba87e7fbf43ef1e2c65a8f546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible types of a listdata item.  <a href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">More...</a><br /></td></tr>
<tr class="separator:gad54fa78ba87e7fbf43ef1e2c65a8f546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5d1c5edab8089d7a72a551a3a6b625e9" id="r_ga5d1c5edab8089d7a72a551a3a6b625e9"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5d1c5edab8089d7a72a551a3a6b625e9">ACAPI_OldListing_GetSetNum</a> (void)</td></tr>
<tr class="memdesc:ga5d1c5edab8089d7a72a551a3a6b625e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of listdata sets.  <br /></td></tr>
<tr class="separator:ga5d1c5edab8089d7a72a551a3a6b625e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74a408a3dc0abc9faa36e31d808470bc" id="r_ga74a408a3dc0abc9faa36e31d808470bc"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga74a408a3dc0abc9faa36e31d808470bc">ACAPI_OldListing_GetSet</a> (<a class="el" href="struct_a_p_i___list_data_set_type.html">API_ListDataSetType</a> *listdataSet)</td></tr>
<tr class="memdesc:ga74a408a3dc0abc9faa36e31d808470bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a listdata set.  <br /></td></tr>
<tr class="separator:ga74a408a3dc0abc9faa36e31d808470bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa65eb2d76332103065ab651a873888e5" id="r_gaa65eb2d76332103065ab651a873888e5"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa65eb2d76332103065ab651a873888e5">ACAPI_OldListing_GetNum</a> (Int32 setIndex, <a class="el" href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">API_ListDataID</a> typeID, Int32 *count)</td></tr>
<tr class="memdesc:gaa65eb2d76332103065ab651a873888e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of listdata in given set.  <br /></td></tr>
<tr class="separator:gaa65eb2d76332103065ab651a873888e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ddba6888c22341e41a29fa7136c8316" id="r_ga4ddba6888c22341e41a29fa7136c8316"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a> (<a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *listdata)</td></tr>
<tr class="memdesc:ga4ddba6888c22341e41a29fa7136c8316"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a listdata.  <br /></td></tr>
<tr class="separator:ga4ddba6888c22341e41a29fa7136c8316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02470017e678a9980ab08b6fc3b3ceb8" id="r_ga02470017e678a9980ab08b6fc3b3ceb8"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga02470017e678a9980ab08b6fc3b3ceb8">ACAPI_OldListing_Search</a> (<a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *listdata)</td></tr>
<tr class="memdesc:ga02470017e678a9980ab08b6fc3b3ceb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a listdata.  <br /></td></tr>
<tr class="separator:ga02470017e678a9980ab08b6fc3b3ceb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6491d52b89966da95052718317da5d97" id="r_ga6491d52b89966da95052718317da5d97"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6491d52b89966da95052718317da5d97">ACAPI_OldListing_GetLocal</a> (Int32 libIndex, const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *elemHead, <a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *listdata)</td></tr>
<tr class="memdesc:ga6491d52b89966da95052718317da5d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a local listing component.  <br /></td></tr>
<tr class="separator:ga6491d52b89966da95052718317da5d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The API of the deprecated (legacy) Listing. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad54fa78ba87e7fbf43ef1e2c65a8f546" name="gad54fa78ba87e7fbf43ef1e2c65a8f546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">&#9670;&#160;</a></span>API_ListDataID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">API_ListDataID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible types of a listdata item. </p>
<dl class="section remark"><dt>Remarks</dt><dd>This enum is used when you get information about the listing database or use <code><a class="el" href="union_a_p_i___list_data.html" title="The representation of a listdata.">API_ListData</a></code>. See the <a class="el" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a>, <a class="el" href="#ga6491d52b89966da95052718317da5d97">ACAPI_OldListing_GetLocal</a>, <a class="el" href="#ga02470017e678a9980ab08b6fc3b3ceb8">ACAPI_OldListing_Search</a>, <a class="el" href="#gaa65eb2d76332103065ab651a873888e5">ACAPI_OldListing_GetNum</a> functions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4ddba6888c22341e41a29fa7136c8316" name="ga4ddba6888c22341e41a29fa7136c8316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ddba6888c22341e41a29fa7136c8316">&#9670;&#160;</a></span>ACAPI_OldListing_Get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_OldListing_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *</td>          <td class="paramname"><span class="paramname"><em>listdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a listdata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listdata</td><td>[in/out] Parameters of the listdata. The type of the listdata, the index of the set and the index of the listdata must be passed in the typeID, the setIndex and the index fields in the listdata header. Other fields of the structure are filled in automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADINDEX - Invalid listdata index was passed.</li>
<li>APIERR_BADID - Invalid listdata type was passed.</li>
<li>APIERR_DELETED - Invalid listdata was deleted. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get a listdata, defined by the typeID, the setIndex and the index fields of the listdata header. The information of a given listdata is returned in the fields of the listdata. This function is faster than <a class="el" href="#ga6491d52b89966da95052718317da5d97">ACAPI_OldListing_GetLocal</a>. When getting the listdata, the applicable fields should be filled in. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone" colspan="2"><a class="el" href="struct_a_p_i___list_data___head.html" title="Contains common information related to all listing component types.">API_ListData_Head</a>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">setIndex   </td><td class="markdownTableBodyNone">required; must be &gt;= 1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">typeID   </td><td class="markdownTableBodyNone">required    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">index   </td><td class="markdownTableBodyNone">required   </td></tr>
</table>
If you are retrieving a descriptor, don't forget to dispose of the name handle when you're finished. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_union" href="union_a_p_i___list_data.html">API_ListData</a>  listdata {};</div>
<div class="line"> </div>
<div class="line">listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a538de7cd3c0687af045b47b5bfbefbc5">setIndex</a> = 1;</div>
<div class="line">listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a928b4f54be4c21d1f50b50d0c1516ea6">typeID</a> = API_DescriptorID;</div>
<div class="line">listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#af29c2f87ddc8c54e89e73cbc38f815b7">index</a> = 1;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a> (&amp;listdata);</div>
<div class="line"> </div>
<div class="line">BMKillHandle (&amp;listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#adc1b138ee3751dd250c22f73e3feb416">descriptor</a>.<a class="code hl_variable" href="struct_a_p_i___descriptor_type.html#a26849bad23aa7ce2f61edd04235a3299">name</a>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga6491d52b89966da95052718317da5d97" name="ga6491d52b89966da95052718317da5d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6491d52b89966da95052718317da5d97">&#9670;&#160;</a></span>ACAPI_OldListing_GetLocal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_OldListing_GetLocal </td>
          <td>(</td>
          <td class="paramtype">Int32</td>          <td class="paramname"><span class="paramname"><em>libIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *</td>          <td class="paramname"><span class="paramname"><em>elemHead</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *</td>          <td class="paramname"><span class="paramname"><em>listdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a local listing component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">libIndex</td><td>[in] Index of the library part. </td></tr>
    <tr><td class="paramname">elemHead</td><td>[in] Element of the placed object instance (see remarks). </td></tr>
    <tr><td class="paramname">listdata</td><td>[in/out] Parameters of the listdata. The type of the listdata must be passed in the typeID field in the listdata header. The index in the library part must be passed in the index field in the listdata header. The other fields of the structure are filled in automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - Invalid libIndex was passed.</li>
<li>APIERR_BADID - Invalid listdata type was passed. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get a local component or descriptor in the library part defined by libIndex and typeID, the index field of the listdata header. The information of a given listdata is returned in the fields of the listdata. If the given listdata is in the listing database, use the <a class="el" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a> function instead. When getting the local listdata, the applicable fields should be filled. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone" colspan="2"><a class="el" href="struct_a_p_i___list_data___head.html" title="Contains common information related to all listing component types.">API_ListData_Head</a>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">index   </td><td class="markdownTableBodyNone">required    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">typeID (only for <code>API_Obsolete_ComponentID</code> and <code>API_DescriptorID</code>)   </td><td class="markdownTableBodyNone">required    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libIndex   </td><td class="markdownTableBodyNone">required   </td></tr>
</table>
If you are retrieving a descriptor, do not forget to dispose of the name handle when you're finished. If the listing result depends on the current settings of the library part parameters (which is possible when the component or descriptor definitions in the property script of the object refer to GDL parameters of the object), you might need to get the correct data to be listed for a placed element. In this case you need to pass the appropriate elemTypeID and elemIndex parameters. Otherwise these values should be <code>API_ZombieElemID</code> and 0 respectively. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___lib_part.html">API_LibPart</a>     libPart {};</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___list_data.html">API_ListData</a>    listdata {};</div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___elem___head.html">API_Elem_Head</a>   head {};</div>
<div class="line">Int32           libIndex;</div>
<div class="line">GSErrCode       err;</div>
<div class="line"> </div>
<div class="line">libPart.<a class="code hl_variable" href="struct_a_p_i___lib_part.html#abf9a8fff84165e22b67c1a1f95c0c99b">typeID</a> = APILib_PropertyID;</div>
<div class="line">GS::ucscpy (libPart.<a class="code hl_variable" href="struct_a_p_i___lib_part.html#a7188ede45f613116ba5237aa56177ddf">docu_UName</a>, L(<span class="stringliteral">&quot;Test property&quot;</span>));</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="group___library_part.html#ga9e49cd1689140705c08d1c7d6f9ec816">ACAPI_LibraryPart_Search</a> (&amp;libPart, <span class="keyword">false</span>);</div>
<div class="line"><span class="keyword">delete</span> libPart.<a class="code hl_variable" href="struct_a_p_i___lib_part.html#aacfa9a2e90e2ca539d71e3338056c700">location</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; libPart.<a class="code hl_variable" href="struct_a_p_i___lib_part.html#ae2c5c2b3b16b5b857d35932a5be868f7">index</a> != 0) {</div>
<div class="line">    libIndex = libPart.<a class="code hl_variable" href="struct_a_p_i___lib_part.html#ae2c5c2b3b16b5b857d35932a5be868f7">index</a>;</div>
<div class="line"> </div>
<div class="line">    listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a928b4f54be4c21d1f50b50d0c1516ea6">typeID</a> = API_Obsolete_ComponentID;</div>
<div class="line">    listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#af29c2f87ddc8c54e89e73cbc38f815b7">index</a>  = 1;</div>
<div class="line"> </div>
<div class="line">    err = <a class="code hl_function" href="#ga6491d52b89966da95052718317da5d97">ACAPI_OldListing_GetLocal</a> (libIndex, &amp;head, &amp;listdata);</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaa65eb2d76332103065ab651a873888e5" name="gaa65eb2d76332103065ab651a873888e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa65eb2d76332103065ab651a873888e5">&#9670;&#160;</a></span>ACAPI_OldListing_GetNum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_OldListing_GetNum </td>
          <td>(</td>
          <td class="paramtype">Int32</td>          <td class="paramname"><span class="paramname"><em>setIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gad54fa78ba87e7fbf43ef1e2c65a8f546">API_ListDataID</a></td>          <td class="paramname"><span class="paramname"><em>typeID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 *</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of listdata in given set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setIndex</td><td>[in] Index of the sets of the listing database. </td></tr>
    <tr><td class="paramname">typeID</td><td>[in] Type of the listdata. </td></tr>
    <tr><td class="paramname">count</td><td>[out] Number of listdata type in the set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADID - Invalid listdata type or setIndex was passed. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the highest available listdata index of the given listdata type in the set. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">/* How many keys are in the first database set? */</span></div>
<div class="line"> </div>
<div class="line">Int32   count;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#gaa65eb2d76332103065ab651a873888e5">ACAPI_OldListing_GetNum</a> (1, API_KeyID, &amp;count);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga74a408a3dc0abc9faa36e31d808470bc" name="ga74a408a3dc0abc9faa36e31d808470bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74a408a3dc0abc9faa36e31d808470bc">&#9670;&#160;</a></span>ACAPI_OldListing_GetSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_OldListing_GetSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___list_data_set_type.html">API_ListDataSetType</a> *</td>          <td class="paramname"><span class="paramname"><em>listdataSet</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a listdata set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listdataSet</td><td>[in/out] Parameters of the set. The index of the set must be passed in the setIndex field in the listdataSet; it must be greater than 0. The other fields of the structure are filled in automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADINDEX - Invalid listdataSet setindex was passed. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get a listdata set, defined by the setIndex field of the listdataSet. The information of a given listdata set is returned in the fields of the listdataSet. When getting the listdata set, the applicable fields should be filled: the <a class="el" href="struct_a_p_i___list_data_set_type.html">API_ListDataSetType</a> <code>setIndex</code> is required. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___list_data_set_type.html">API_ListDataSetType</a> listdataSet {};</div>
<div class="line">listdataSet.<a class="code hl_variable" href="struct_a_p_i___list_data_set_type.html#ae1605189d14e172743153cbd04f4fca6">setIndex</a> = 1;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="#ga74a408a3dc0abc9faa36e31d808470bc">ACAPI_OldListing_GetSet</a> (&amp;listdataSet);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga5d1c5edab8089d7a72a551a3a6b625e9" name="ga5d1c5edab8089d7a72a551a3a6b625e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d1c5edab8089d7a72a551a3a6b625e9">&#9670;&#160;</a></span>ACAPI_OldListing_GetSetNum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 ACAPI_OldListing_GetSetNum </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of listdata sets. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The number of listdata sets of the listing database. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get number of sets of the listing database. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Int32   count = <a class="code hl_function" href="#ga5d1c5edab8089d7a72a551a3a6b625e9">ACAPI_OldListing_GetSetNum</a> ();</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga02470017e678a9980ab08b6fc3b3ceb8" name="ga02470017e678a9980ab08b6fc3b3ceb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02470017e678a9980ab08b6fc3b3ceb8">&#9670;&#160;</a></span>ACAPI_OldListing_Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_OldListing_Search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="union_a_p_i___list_data.html">API_ListData</a> *</td>          <td class="paramname"><span class="paramname"><em>listdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a listdata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listdata</td><td>[in/out] Parameters of the listdata. The type and setIndex of the listdata must be passed in the typeID and the setIndex fields in the listdata header. The code and/or the keycode of the listdata must be passed in the code and the keycode fields in the listdata. The setIndex and the index fields of the listdata header are used as the output parameters to return the setIndex/index to the searched listdata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADKEYCODE - Invalid code or keycode was passed. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to search for a listdata, identified by the setIndex, the typeID and the code/keycode fields in the listdata header. Units and keys are searchable by code, components and descriptors are searchable by code and/or keycode. The All sets of listing database are sorted by keycode. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone" colspan="2"><a class="el" href="struct_a_p_i___list_data___head.html" title="Contains common information related to all listing component types.">API_ListData_Head</a>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">setIndex   </td><td class="markdownTableBodyNone">required (if it's 0 - search in all sets)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">typeID   </td><td class="markdownTableBodyNone">required   </td></tr>
</table>
</dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_ListDataID   </th><th class="markdownTableHeadNone">keycode   </th><th class="markdownTableHeadNone">code    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_KeyID or API_UnitID   </td><td class="markdownTableBodyNone">not exist   </td><td class="markdownTableBodyNone">required    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_Obsolete_ComponentID or API_DescriptorID   </td><td class="markdownTableBodyNone">required   </td><td class="markdownTableBodyNone">optional   </td></tr>
</table>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_union" href="union_a_p_i___list_data.html">API_ListData</a>    listdata {};</div>
<div class="line"><span class="keywordtype">char</span>            buffer[256];</div>
<div class="line">GSErrCode       err;</div>
<div class="line"> </div>
<div class="line">listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a538de7cd3c0687af045b47b5bfbefbc5">setIndex</a>    = 0;</div>
<div class="line">listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a928b4f54be4c21d1f50b50d0c1516ea6">typeID</a>      = API_Obsolete_ComponentID;</div>
<div class="line">CHCopyC (<span class="stringliteral">&quot;003&quot;</span>, listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#a9d537eff72568a6a867b5b1819181a9b">component</a>.<a class="code hl_variable" href="struct_a_p_i___obsolete___component_type.html#a137c235845eae3462d8b044369a2ade8">keycode</a>);</div>
<div class="line">CHCopyC (<span class="stringliteral">&quot;&quot;</span>, listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#a9d537eff72568a6a867b5b1819181a9b">component</a>.<a class="code hl_variable" href="struct_a_p_i___obsolete___component_type.html#ab0854ce00e594d059258fc7fa3381adc">code</a>);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#ga02470017e678a9980ab08b6fc3b3ceb8">ACAPI_OldListing_Search</a> (&amp;listdata);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    sprintf (buffer, <span class="stringliteral">&quot;Set index: %d,  key code: \&quot;003\&quot;&quot;</span>, listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#a538de7cd3c0687af045b47b5bfbefbc5">setIndex</a>);</div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (buffer, <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">    err = <a class="code hl_function" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a> (&amp;listdata);</div>
<div class="line">    <span class="keywordflow">while</span> (err == NoError &amp;&amp; CHEqualASCII (listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#a9d537eff72568a6a867b5b1819181a9b">component</a>.<a class="code hl_variable" href="struct_a_p_i___obsolete___component_type.html#a137c235845eae3462d8b044369a2ade8">keycode</a>, <span class="stringliteral">&quot;003&quot;</span>, GS::CaseInsensitive)) {</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot; Code: \&quot;%s\&quot;, name: %s&quot;</span>, listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#a9d537eff72568a6a867b5b1819181a9b">component</a>.<a class="code hl_variable" href="struct_a_p_i___obsolete___component_type.html#ab0854ce00e594d059258fc7fa3381adc">code</a>, listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#a9d537eff72568a6a867b5b1819181a9b">component</a>.<a class="code hl_variable" href="struct_a_p_i___obsolete___component_type.html#a4143565fb6621d5ed9a75ba91e571489">name</a>);</div>
<div class="line">        <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (buffer, <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">        listdata.<a class="code hl_variable" href="union_a_p_i___list_data.html#af4c9f2ceaadd25ad994cf33018e9696b">header</a>.<a class="code hl_variable" href="struct_a_p_i___list_data___head.html#af29c2f87ddc8c54e89e73cbc38f815b7">index</a>++;</div>
<div class="line">        err = <a class="code hl_function" href="#ga4ddba6888c22341e41a29fa7136c8316">ACAPI_OldListing_Get</a> (&amp;listdata);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
