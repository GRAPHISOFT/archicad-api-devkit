<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Bodies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___body.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Bodies</div></div>
</div><!--header-->
<div class="contents">

<p>This function family gives support to create or modify the body of a morph element.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga418d98eb7df497a3d06e5d34f3f6c7a7" id="r_ga418d98eb7df497a3d06e5d34f3f6c7a7"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a> (const Modeler::MeshBody *body, const <a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> *bodyMaterialMapTable, void **bodyData)</td></tr>
<tr class="memdesc:ga418d98eb7df497a3d06e5d34f3f6c7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new body data object for editing.  <br /></td></tr>
<tr class="separator:ga418d98eb7df497a3d06e5d34f3f6c7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga715031fc62cc16474aa419017a8c6b05" id="r_ga715031fc62cc16474aa419017a8c6b05"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a> (void *bodyData, Modeler::MeshBody **body, <a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> **bodyMaterialMapTable)</td></tr>
<tr class="memdesc:ga715031fc62cc16474aa419017a8c6b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the body data object to a format, that can be passed to an <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> structure.  <br /></td></tr>
<tr class="separator:ga715031fc62cc16474aa419017a8c6b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab34c369c369275abf20c034066bb7e9e" id="r_gab34c369c369275abf20c034066bb7e9e"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a> (void **bodyData)</td></tr>
<tr class="memdesc:gab34c369c369275abf20c034066bb7e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disposes the body data object.  <br /></td></tr>
<tr class="separator:gab34c369c369275abf20c034066bb7e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88c1626fbaa1d52032e26a6442099cc8" id="r_ga88c1626fbaa1d52032e26a6442099cc8"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a> (void *bodyData, const <a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> &amp;coord, UInt32 &amp;index)</td></tr>
<tr class="memdesc:ga88c1626fbaa1d52032e26a6442099cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a vertex to the body data object.  <br /></td></tr>
<tr class="separator:ga88c1626fbaa1d52032e26a6442099cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f6292639663f57a72ba9ad1c1d8cdbd" id="r_ga1f6292639663f57a72ba9ad1c1d8cdbd"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a> (void *bodyData, const UInt32 vertex1, const UInt32 vertex2, Int32 &amp;index)</td></tr>
<tr class="memdesc:ga1f6292639663f57a72ba9ad1c1d8cdbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a vertex to the body data object.  <br /></td></tr>
<tr class="separator:ga1f6292639663f57a72ba9ad1c1d8cdbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga381cd3412672dc2eb2227f76b066bc42" id="r_ga381cd3412672dc2eb2227f76b066bc42"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a> (void *bodyData, const <a class="el" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> &amp;normal, Int32 &amp;index)</td></tr>
<tr class="memdesc:ga381cd3412672dc2eb2227f76b066bc42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a polygon normal vector to the body data object.  <br /></td></tr>
<tr class="separator:ga381cd3412672dc2eb2227f76b066bc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae160f0f5491328150fb3afd1a7e3e0b8" id="r_gae160f0f5491328150fb3afd1a7e3e0b8"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a> (void *bodyData, const GS::Array&lt; Int32 &gt; &amp;edges, const Int32 polyNormal, const <a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> &amp;material, UInt32 &amp;index)</td></tr>
<tr class="memdesc:gae160f0f5491328150fb3afd1a7e3e0b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a polygon to the body data object.  <br /></td></tr>
<tr class="separator:gae160f0f5491328150fb3afd1a7e3e0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This function family gives support to create or modify the body of a morph element. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1f6292639663f57a72ba9ad1c1d8cdbd" name="ga1f6292639663f57a72ba9ad1c1d8cdbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">&#9670;&#160;</a></span>ACAPI_Body_AddEdge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_AddEdge </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt32</td>          <td class="paramname"><span class="paramname"><em>vertex1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UInt32</td>          <td class="paramname"><span class="paramname"><em>vertex2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a vertex to the body data object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to add the edge to. </td></tr>
    <tr><td class="paramname">vertex1</td><td>[in] Index of the first vertex of the edge. </td></tr>
    <tr><td class="paramname">vertex2</td><td>[in] Index of the second vertex of the edge. </td></tr>
    <tr><td class="paramname">index</td><td>[out] The index of the created edge, can be used later to create polygons. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed parameter is nullptr for bodyData. The index is out of range for vertex1, vertex2. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to add an edge to a body data object. The vertex1 and vertex2 parameters shall be valid vertex indices provided by the <a class="el" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a> function. The edge can be used with at most 2 polygons, and in that case it has to be passed with opposite directions. The returned index can be used to create polygons with the <a class="el" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gae160f0f5491328150fb3afd1a7e3e0b8" name="gae160f0f5491328150fb3afd1a7e3e0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae160f0f5491328150fb3afd1a7e3e0b8">&#9670;&#160;</a></span>ACAPI_Body_AddPolygon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_AddPolygon </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::Array&lt; Int32 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>edges</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Int32</td>          <td class="paramname"><span class="paramname"><em>polyNormal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>material</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a polygon to the body data object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to add the polygon to. </td></tr>
    <tr><td class="paramname">edges</td><td>[in] List of the edges of the polygon. </td></tr>
    <tr><td class="paramname">polyNormal</td><td>[in] Signed index of the normal vector. </td></tr>
    <tr><td class="paramname">material</td><td>[in] Material override structure of the polygon. </td></tr>
    <tr><td class="paramname">index</td><td>[out] The index of the created polygon. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed bodyData parameter is nullptr. There are less than 3 edges passed. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to add a polygon to a body data object. The edges list contains edge indices returned by the <a class="el" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a> function. The list shall look like the following:<ul>
<li>First pass the indices of contour edges as they sorruond the polygon counterclockwise. (An edge can be used backwards with a negative index)</li>
<li>For each hole pass a 0, then the indices of hole contour edges clockwise. polyNormal is the index of a normal vector returned by the <a class="el" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a> function.</li>
<li>A negative value indicates, that the vector is used in the opposite direction. (So a cube can be created making 3 normal vectors instead of 6)</li>
<li>If you pass 0, the normal vector is calculated automatically, but doing so, the same vector may be created multiple times, as duplicates are not detected. (A plane containing many polygons generates the same normal for each polygon) </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga381cd3412672dc2eb2227f76b066bc42" name="ga381cd3412672dc2eb2227f76b066bc42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga381cd3412672dc2eb2227f76b066bc42">&#9670;&#160;</a></span>ACAPI_Body_AddPolyNormal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_AddPolyNormal </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>normal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a polygon normal vector to the body data object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to add the normal vector to. </td></tr>
    <tr><td class="paramname">normal</td><td>[in] The normal vector to add. </td></tr>
    <tr><td class="paramname">index</td><td>[out] The index of the created normal vector, can be used later to create polygons. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed bodyData parameter is nullptr. The normal vector length is 0; </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to add a normal vector to a body data object. A normal vector can be used for multiple polygons and can be passed with positive and negative direction too. The normal vector is perpendicular to the polygon plane and points the direction you want to see the polygon from. (In case of a complete body, the normal vectors point ot of the body) The returned index can be used to create polygons with the <a class="el" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga88c1626fbaa1d52032e26a6442099cc8" name="ga88c1626fbaa1d52032e26a6442099cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88c1626fbaa1d52032e26a6442099cc8">&#9670;&#160;</a></span>ACAPI_Body_AddVertex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_AddVertex </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>coord</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a vertex to the body data object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to add the vertex to. </td></tr>
    <tr><td class="paramname">coord</td><td>[in] Position of the vertex to add. </td></tr>
    <tr><td class="paramname">index</td><td>[out] The index of the created vertex, can be used later to define edges. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed bodyData parameter is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to add a vertex to a body data object. The returned index can be used to create edges with the <a class="el" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga418d98eb7df497a3d06e5d34f3f6c7a7" name="ga418d98eb7df497a3d06e5d34f3f6c7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">&#9670;&#160;</a></span>ACAPI_Body_Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_Create </td>
          <td>(</td>
          <td class="paramtype">const Modeler::MeshBody *</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> *</td>          <td class="paramname"><span class="paramname"><em>bodyMaterialMapTable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new body data object for editing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>[in] The body object to start the editing with. nullptr can be passed to create a new body. </td></tr>
    <tr><td class="paramname">bodyMaterialMapTable</td><td>[in] The initial material override structure list of the polygons of the body. nullptr can be passed in case of a new body. </td></tr>
    <tr><td class="paramname">bodyData</td><td>[out] The body data object, that shall be passed to further editing functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed bodyData parameter is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to create a body data object for further editing. Input parameters can be nullptr, but can be passed from the <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> of a morph element. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a> (<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* add vertices, edges and polygons here... */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body, pens and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a> (bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// dispose the body data object</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a> (&amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* create the new morph object from the memo... */</span></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gab34c369c369275abf20c034066bb7e9e" name="gab34c369c369275abf20c034066bb7e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab34c369c369275abf20c034066bb7e9e">&#9670;&#160;</a></span>ACAPI_Body_Dispose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_Dispose </td>
          <td>(</td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disposes the body data object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to dispose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed parameter in bodyData is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to dispose a body data object. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga715031fc62cc16474aa419017a8c6b05" name="ga715031fc62cc16474aa419017a8c6b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga715031fc62cc16474aa419017a8c6b05">&#9670;&#160;</a></span>ACAPI_Body_Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Body_Finish </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>bodyData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Modeler::MeshBody **</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> **</td>          <td class="paramname"><span class="paramname"><em>bodyMaterialMapTable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the body data object to a format, that can be passed to an <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyData</td><td>[in] The body data object to convert. </td></tr>
    <tr><td class="paramname">body</td><td>[out] The body object to put the resulting body to. </td></tr>
    <tr><td class="paramname">bodyMaterialMapTable</td><td>[out] The material override structure list of the polygons of the body. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed bodyData parameter is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to convert a body data object to data, that can be passed to an <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> structure and create a morph element. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// setup a new morph element</span></div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a559d984591e16e41630484f952c900cd">API_MorphID</a>;</div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// setup a new memo</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> memo {};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a new body data object</span></div>
<div class="line"><span class="keywordtype">void</span>* bodyData = <span class="keyword">nullptr</span>;</div>
<div class="line">err = <a class="code hl_function" href="#ga418d98eb7df497a3d06e5d34f3f6c7a7">ACAPI_Body_Create</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, &amp;bodyData);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> coord;</div>
<div class="line">UInt32  vertices[8];</div>
<div class="line">Int32   edges[8];</div>
<div class="line">Int32   polyNormals[1];</div>
<div class="line">UInt32  polygons[1];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square countour</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[0]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[1]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[2]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 2.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add vertices of square hole</span></div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[4]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[5]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[6]);</div>
<div class="line">coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = -1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 1.0; coord.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 0.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga88c1626fbaa1d52032e26a6442099cc8">ACAPI_Body_AddVertex</a>(bodyData, coord, vertices[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square countour</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[0], vertices[1], edges[0]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[1], vertices[2], edges[1]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[2], vertices[3], edges[2]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[3], vertices[0], edges[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add edges of square hole</span></div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[4], vertices[5], edges[4]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[5], vertices[6], edges[5]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[6], vertices[7], edges[6]);</div>
<div class="line">err = <a class="code hl_function" href="#ga1f6292639663f57a72ba9ad1c1d8cdbd">ACAPI_Body_AddEdge</a>(bodyData, vertices[7], vertices[4], edges[7]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add normal vector</span></div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___coord3_d.html">API_Vector3D</a> normal;</div>
<div class="line">normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#aec328ff015601f2a8a561de965566b9f">x</a> = normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a22b6cd9f54a14c7f1eee0a585aae5324">y</a> = 0.0; normal.<a class="code hl_variable" href="struct_a_p_i___coord3_d.html#a447caf8d9050cbdea9bcae4934a1db68">z</a> = 1.0;</div>
<div class="line">err = <a class="code hl_function" href="#ga381cd3412672dc2eb2227f76b066bc42">ACAPI_Body_AddPolyNormal</a>(bodyData, normal, polyNormals[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// add square polygon with square hole (with surface material override enabled)</span></div>
<div class="line">GS::Array&lt;Int32&gt; polyEdges = {</div>
<div class="line">        edges[0],</div>
<div class="line">        edges[1],</div>
<div class="line">        edges[2],</div>
<div class="line">        edges[3],</div>
<div class="line">        0,</div>
<div class="line">        -edges[7],</div>
<div class="line">        -edges[6],</div>
<div class="line">        -edges[5],</div>
<div class="line">        -edges[4]</div>
<div class="line">};</div>
<div class="line"><a class="code hl_class" href="struct_a_p_i_optional.html">API_OverriddenAttribute</a> material;</div>
<div class="line">material = <a class="code hl_function" href="group___attribute.html#ga6096e41ad85dfa2821764b7b7c722c0c">ACAPI_CreateAttributeIndex</a> (1);</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#gae160f0f5491328150fb3afd1a7e3e0b8">ACAPI_Body_AddPolygon</a>(bodyData, polyEdges, polyNormals[0], material, polygons[0]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert the resulting body and materials to the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#ga715031fc62cc16474aa419017a8c6b05">ACAPI_Body_Finish</a>(bodyData, &amp;memo.morphBody, &amp;memo.morphMaterialMapTable);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the morph element</span></div>
<div class="line">err = <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a>(<span class="stringliteral">&quot;Create morph&quot;</span>, [&amp;]() -&gt; GSErrCode {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, &amp;memo);</div>
<div class="line">});</div>
<div class="line"><span class="comment">// dispose the body data object &amp; the memo</span></div>
<div class="line">err = <a class="code hl_function" href="#gab34c369c369275abf20c034066bb7e9e">ACAPI_Body_Dispose</a>(&amp;bodyData);</div>
<div class="line">err = <a class="code hl_function" href="group___element.html#gad24d36ab301120ab689a94743c8fd95a">ACAPI_DisposeElemMemoHdls</a> (&amp;memo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
