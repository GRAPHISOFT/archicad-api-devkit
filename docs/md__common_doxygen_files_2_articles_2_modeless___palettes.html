<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 27 C++ API: Modeless Palettes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 27 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__common_doxygen_files_2_articles_2_modeless___palettes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Modeless Palettes </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="ModelessPalettes"></a> </p>
<h1><a class="anchor" id="autotoc_md54"></a>
Modeless Palettes</h1>
<p>This paragraph describes the way an add-on can create modeless windows. The main usage of modeless windows is to create user-defined toolbars which can be used to interact between Archicad and the add-on.</p>
<p>The main points of developing an add-on that uses modeless windows are:</p>
<ul>
<li>The window type must be <code>Palette</code> declared in the 'GDLG' resource. The resource ID of the palette should be between 32400 and 32499. This is a convention for avoiding collision with the dialog ID of the other modal and modeless windows. Resource IDs for modal dialogs can be between 32500 and 32767. <br  />
</li>
<li>For initializing a modeless palette from your add-on's code, always use the <code>DGModelessInit</code> function of the DG module. <br  />
</li>
<li>Note that the <b>dialog ID</b> may differ from the <b>resource ID</b> of a DG dialog. Generally the two values are equal, if there were no palettes with the same resource ID already initialized in the server application. Since the dialog IDs must be unique, the DG module will renumber your palette's dialog ID in the initialization phase if there the resource ID already was used for example from another add-on. This is why you should save dialog ID (which is the return value of <code>DGModelessInit</code>), and use as a reference to your palette instead of the constant resource ID. <br  />
</li>
<li>Once initialized a palette the add-on <b>is kept in memory</b> and its palette callback function will be called to handle DG messages. After closing all the palettes belonging to the add-on, it ceases to be memory resident (unless it is kept in memory for some other reason). <br  />
</li>
<li>In some cases (e.g. during user input) the server application blocks user action type messages towards the palette. It is the add-on's responsibility to disable its interface elements during this period to let the user know that the palette's functionality cannot be accessible. The server application notifies your code on the beginning and the termination of this situation by sending the <code>DG_MSG_API_ENABLEPALETTE</code> message. <br  />
 In case of getting user input initiated from your add-on, your dialog callbacks will not be blocked and will get the <code>DG_MSG_API_ININPUTPALETTE</code> message instead of <code>DG_MSG_API_ENABLEPALETTE</code> in order to let you keep enabled necessary dialog items (e.g. input modifiers).</li>
<li>Once your add-on has a modeless palette already initialized, it also can react to the Show/Hide All Palettes command called by the user from the Windows/Floating Palettes menu of Archicad. The palette callback gets a <code>DG_MSG_API_SHOWHIDEPALETTE</code> message every time when all the palettes should be hidden or shown. You are asked to handle this message by hiding or showing your palettes, and changing the appropriate menu texts, if your add-on has a "Show/Hide My Palette"-like menu command inserted into the menu structure.</li>
<li>The window cannot get any keyboard messages, only mouse events. <br  />
</li>
<li>If you want some input in Archicad such as <a class="el" href="group___user_input.html#gaf575c4a4e685c82940f01fdf438c8088">ACAPI_UserInput_GetPoint</a>, remember to close all modal windows. <br  />
 </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
</body>
</html>