<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Toolbox</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___toolbox.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Toolbox</div></div>
</div><!--header-->
<div class="contents">

<p>Functions related to the manipulation of, and integrating into the Toolbox.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains information on the current state of the toolbox.  <a href="struct_a_p_i___tool_box_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9cf64c965e7965d4d45b8269244288be" id="r_ga9cf64c965e7965d4d45b8269244288be"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9cf64c965e7965d4d45b8269244288be">ACAPI_Toolbox_GetToolBoxMode</a> (<a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *toolBoxItem)</td></tr>
<tr class="memdesc:ga9cf64c965e7965d4d45b8269244288be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual toolbox mode.  <br /></td></tr>
<tr class="separator:ga9cf64c965e7965d4d45b8269244288be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga729a333db88aa176e786711438e15ada" id="r_ga729a333db88aa176e786711438e15ada"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga729a333db88aa176e786711438e15ada">ACAPI_Toolbox_SetToolBoxMode</a> (<a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *toolBoxItem)</td></tr>
<tr class="memdesc:ga729a333db88aa176e786711438e15ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the actual toolbox mode.  <br /></td></tr>
<tr class="separator:ga729a333db88aa176e786711438e15ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3bd85f15e55ef750b701941ad98585f" id="r_gae3bd85f15e55ef750b701941ad98585f"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae3bd85f15e55ef750b701941ad98585f">ACAPI_Toolbox_GetToolBoxInfo</a> (<a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a> *toolBoxInfo, bool enableHidden=false)</td></tr>
<tr class="memdesc:gae3bd85f15e55ef750b701941ad98585f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on the current state of the toolbox.  <br /></td></tr>
<tr class="separator:gae3bd85f15e55ef750b701941ad98585f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79eb93ab5adb076e9a27261db8294c9d" id="r_ga79eb93ab5adb076e9a27261db8294c9d"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga79eb93ab5adb076e9a27261db8294c9d">ACAPI_LibraryPart_RegisterSubtype</a> (GSType signature, short templateFileResID, bool transparentNode, short stringResID, short smallIconResID, short largeIconResID, API_TBoxGroup toolGroupId, API_TBoxEnabled enableFlags, short defaultsResID)</td></tr>
<tr class="memdesc:ga79eb93ab5adb076e9a27261db8294c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new library part subtype.  <br /></td></tr>
<tr class="separator:ga79eb93ab5adb076e9a27261db8294c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions related to the manipulation of, and integrating into the Toolbox. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga79eb93ab5adb076e9a27261db8294c9d" name="ga79eb93ab5adb076e9a27261db8294c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79eb93ab5adb076e9a27261db8294c9d">&#9670;&#160;</a></span>ACAPI_LibraryPart_RegisterSubtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_LibraryPart_RegisterSubtype </td>
          <td>(</td>
          <td class="paramtype">GSType</td>          <td class="paramname"><span class="paramname"><em>signature</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>templateFileResID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>transparentNode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>stringResID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>smallIconResID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>largeIconResID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">API_TBoxGroup</td>          <td class="paramname"><span class="paramname"><em>toolGroupId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">API_TBoxEnabled</td>          <td class="paramname"><span class="paramname"><em>enableFlags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>defaultsResID</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new library part subtype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>[in] A four-character identifier of this library part subtype </td></tr>
    <tr><td class="paramname">templateFileResID</td><td>[in] 'FILE' resource ID of the subtype template library part compiled into the add-on </td></tr>
    <tr><td class="paramname">transparentNode</td><td>[in] Objects of this subtype can be shown on higher ancestry levels as well </td></tr>
    <tr><td class="paramname">stringResID</td><td>[in] Resource ID of the library part subtype description string </td></tr>
    <tr><td class="paramname">smallIconResID</td><td>[in] Resource ID of the small-sized toolbox (toolbar) item icon </td></tr>
    <tr><td class="paramname">largeIconResID</td><td>[in] Resource ID of the large-sized toolbox item icon </td></tr>
    <tr><td class="paramname">toolGroupId</td><td>[in] Toolbox item position </td></tr>
    <tr><td class="paramname">enableFlags</td><td>[in] Enable or disable the subtype tool depending on the active window </td></tr>
    <tr><td class="paramname">defaultsResID</td><td>[in] ID of the 'ACP0' resource that contains the element default values for this subtype </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>APIERR_BADPARS - templateFileResID refers to an invalid 'FILE' resource or the built-in library part cannot be accepted as subtype template.</li>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function registers a new library part subtype. In order to have an own element subtype the add-on must contain a built-in library part in its reource module. This library part will be loaded into the active libraries, and become a new node in the ancestry tree. The new element type will be identified with the signature identifier chosen by the add-on's writer. The signature should be unique in order to avoid collisions. You may pass 0 in the signature parameter if you do not need a new element type but a single subtype node. The subtype can appear in the toolbox as an external tool, and also on the Windows toolbar. In this case you must pass two valid icon resource IDs in the smallIconResID and the largeIconResID parameters. The size of the icons should be 16x16 and 30x21 pixels respectively. You can specify the position of the subtype item inserted into the toolbox with the toolGroupId parameter as follows: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_TBoxGroup   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TBoxGroup_Root   </td><td class="markdownTableBodyNone">The subtype tool item will be appended to the group of model element tools    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TBoxGroup_Objects   </td><td class="markdownTableBodyNone">The subtype tool item will be added to the object tools    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TBoxGroup_Openings   </td><td class="markdownTableBodyNone">The subtype tool item will be added to the window/door tools   </td></tr>
</table>
</dd></dl>
<p>You can control the availability of the subtype tool in the toolbox by setting the <code>enableFlags</code> bits: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_TBoxEnabled   </th><th class="markdownTableHeadNone">The subtype tool is enabled    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_FloorPlan   </td><td class="markdownTableBodyNone">on floor plan window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_ModelSection   </td><td class="markdownTableBodyNone">on model type section and elevation windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_DrawingSection   </td><td class="markdownTableBodyNone">on drawing type section and elevation windows    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_3D   </td><td class="markdownTableBodyNone">on 3D model window    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_Detail   </td><td class="markdownTableBodyNone">on detail window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_Layout   </td><td class="markdownTableBodyNone">on layout and master layout windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_Worksheet   </td><td class="markdownTableBodyNone">on worksheet window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_ModelInteriorElevation   </td><td class="markdownTableBodyNone">on model type interior elevation windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_DrawingInteriorElevation   </td><td class="markdownTableBodyNone">on drawing type interior elevation windows   </td></tr>
</table>
<p>If you want to register your subtype tool without appearing in the toolbox, pass 0 for both the <code>smallIconResID</code> and the <code>largeIconResID</code> parameters. If you register a subtype tool you should define the factory default values for this element type in an 'ACP0' resource. The element default will be initialized with these parameters when no preferences data is stored. The structure of this resource is shown at the example below. The resource ID should be passed in the defaultsResID parameter. Learn more about this topic at the general description of Library Part Subtypes. </p><dl class="section user"><dt>Example</dt><dd>Resources in the .GRC file: <div class="fragment"><div class="line">&#39;FILE&#39; 132 &quot;Roof Opening.gsm&quot; {</div>
<div class="line">    &quot;Roof Opening.gsm&quot;</div>
<div class="line">}</div>
</div><!-- fragment --> <div class="fragment"><div class="line">&#39;STR#&#39; 32611 &quot;Skylight subtype&quot; {</div>
<div class="line">/* [  1] */  &quot;Skylight&quot;                             /* Subtype name */</div>
<div class="line">/* [  2] */  &quot;Skylight Selection Settings...&quot;       /* Selection settings dialog title */</div>
<div class="line">/* [  3] */  &quot;Select All Skylights&quot;                 /* Select All menuitem string in Edit menu */</div>
<div class="line">/* [  4] */  &quot;Skylight Tool&quot;                        /* Toolbox item name */</div>
<div class="line">/* [  5] */  &quot;The Skylight tool is used for placing skylight library items into roofs by clicking on the roof.&quot;</div>
<div class="line">                                                    /* Toolbox item popup help text */</div>
<div class="line">/* [  6] */  &quot;Skylight Default Settings...&quot;         /* Default settings dialog title */</div>
<div class="line">/* [  7] */  &quot;Enter First Point of Skylight.&quot;       /* Default prompt text */</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">&#39;ACP0&#39; 132  &quot;Metric Defaults&quot; {</div>
<div class="line">/* [  1] VarName    */ &quot;001_defObjName&quot;</div>
<div class="line">/* [  1] Value      */ &quot;Skylight Pivot Hung&quot;</div>
<div class="line"> </div>
<div class="line">/* [  2] VarName    */ &quot;002_Symb_layer&quot;</div>
<div class="line">/* [  2] Value      */ &quot;7&quot;</div>
<div class="line"> </div>
<div class="line">/* [  3] VarName    */ &quot;003_Symb_material&quot;</div>
<div class="line">/* [  3] Value      */ &quot;47&quot;</div>
<div class="line"> </div>
<div class="line">/* [  4] VarName    */ &quot;004_Symb_info&quot;</div>
<div class="line">/* [  4] Value      */ &quot;Sky-001&quot;</div>
<div class="line"> </div>
<div class="line">/* [  5] VarName    */ &quot;005_Symb_level&quot;</div>
<div class="line">/* [  5] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [  6] VarName    */ &quot;006_Symb_pen&quot;</div>
<div class="line">/* [  6] Value      */ &quot;2&quot;</div>
<div class="line"> </div>
<div class="line">/* [  7] VarName    */ &quot;007_Symb_onePen(0/1)&quot;</div>
<div class="line">/* [  7] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [  8] VarName    */ &quot;008_Symb_showAlways&quot;</div>
<div class="line">/* [  8] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [  9] VarName    */ &quot;009_Symb_showAbove&quot;</div>
<div class="line">/* [  9] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 10] VarName    */ &quot;010_Symb_showBelow&quot;</div>
<div class="line">/* [ 10] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 11] VarName    */ &quot;011_Symb_gravityPar&quot;</div>
<div class="line">/* [ 11] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 12] VarName    */ &quot;012_Symb_contourPen&quot;</div>
<div class="line">/* [ 12] Value      */ &quot;72&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 13] VarName    */ &quot;013_Symb_fillPen&quot;</div>
<div class="line">/* [ 13] Value      */ &quot;73&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 14] VarName    */ &quot;014_Symb_bkgPen&quot;</div>
<div class="line">/* [ 14] Value      */ &quot;80&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 15] VarName    */ &quot;015_Symb_fill&quot;</div>
<div class="line">/* [ 15] Value      */ &quot;65&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 16] VarName    */ &quot;016_Symb_lineType&quot;</div>
<div class="line">/* [ 16] Value      */ &quot;1&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 17] VarName    */ &quot;017_Symb_useLineType&quot;</div>
<div class="line">/* [ 17] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 18] VarName    */ &quot;018_Symb_useMaterial&quot;</div>
<div class="line">/* [ 18] Value      */ &quot;1&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 19] VarName    */ &quot;019_Symb_useSectAttrs&quot;</div>
<div class="line">/* [ 19] Value      */ &quot;1&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 20] VarName    */ &quot;020_Symb_LightIsOn&quot;</div>
<div class="line">/* [ 20] Value      */ &quot;0&quot;</div>
<div class="line"> </div>
<div class="line">/* [ 21] VarName    */ &quot;021_Symb_IsAutoOnStoryVisibility&quot;</div>
<div class="line">/* [ 21] Value      */ &quot;0&quot;</div>
<div class="line">}</div>
</div><!-- fragment --> In the <a class="el" href="group___add_on_lifetime.html#ga3d5b6a23422e44dce66728b0f4eb943e">RegisterInterface</a> function: <div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------</span></div>
<div class="line"><span class="comment">// Interface definitions</span></div>
<div class="line"><span class="comment">//------------------------------------------------------</span></div>
<div class="line">GSErrCode <a class="code hl_function" href="group___add_on_lifetime.html#ga3d5b6a23422e44dce66728b0f4eb943e">RegisterInterface</a> ()</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">    GSErrCode   err = <a class="code hl_function" href="#ga79eb93ab5adb076e9a27261db8294c9d">ACAPI_LibraryPart_RegisterSubtype</a> (<span class="stringliteral">&#39;SKLT&#39;</span>, 132, <span class="keyword">true</span>, 32611, 32602, 32603, TBoxGroup_Openings,</div>
<div class="line">                                                         API_TBoxEnabled_FloorPlan + API_TBoxEnabled_ModelSection + API_TBoxEnabled_3D, 132);</div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gae3bd85f15e55ef750b701941ad98585f" name="gae3bd85f15e55ef750b701941ad98585f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3bd85f15e55ef750b701941ad98585f">&#9670;&#160;</a></span>ACAPI_Toolbox_GetToolBoxInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Toolbox_GetToolBoxInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>toolBoxInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enableHidden</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information on the current state of the toolbox. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxInfo</td><td>[out] Miscellaneous information on the toolbox. </td></tr>
    <tr><td class="paramname">enableHidden</td><td>[in] Include hidden tools from the toolbox as well. This parameter is optional; if you pass nullptr in the second parameter, it defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - tboxInfo is nullptr.</li>
<li>APIERR_MEMFULL - Low memory condition. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can query the current state of the toolbox with this function. It returns information on the different installed items (external tools, too), and the active toolbox item (the active tool). The enableHidden flag tells Archicad to include hidden toolbox items as well. These are the tools which don't have any icon in the toolbox, though using them puts Archicad into a state which works as if you chose one of the 'real' tools. A good example of this is the Slab Accessory. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_function" href="#gae3bd85f15e55ef750b701941ad98585f">ACAPI_Toolbox_GetToolBoxInfo</a> (&amp;toolBoxInfo, <span class="keyword">true</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga9cf64c965e7965d4d45b8269244288be" name="ga9cf64c965e7965d4d45b8269244288be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cf64c965e7965d4d45b8269244288be">&#9670;&#160;</a></span>ACAPI_Toolbox_GetToolBoxMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Toolbox_GetToolBoxMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *</td>          <td class="paramname"><span class="paramname"><em>toolBoxItem</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual toolbox mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxItem</td><td>[out] Current toolbox mode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function completed with success.</li>
<li>APIERR_BADPARS - toolBoxItem is nullptr </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the current toolbox mode. The mode is returned in the type field. For those types which can have more toolbox modes (ID_Wind, ID_Door, ID_Symb, ID_Light), the owner ID of the tool is returned, too. If the current toolbox mode has no element type associated with (e.g. arrow mode and marquee mode), the typeID will be <code>API_ZombieElemID</code>. To change the active toolbox item use the <a class="el" href="#ga729a333db88aa176e786711438e15ada">ACAPI_Toolbox_SetToolBoxMode</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> tboxInfo {};</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#ga9cf64c965e7965d4d45b8269244288be">ACAPI_Toolbox_GetToolBoxMode</a> (&amp;tboxInfo);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    GS::UniString elemName = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="group___element.html#ga8b53446fb6f533a95566629eb4107dc8">ACAPI_Element_GetElemTypeName</a> (tboxInfo.type, elemName);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> buffer[256];</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a74b48da6204a8f92dbeb1cf455bd6515">API_ZombieElemID</a>) {</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: Arrow or Marquee&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tboxInfo.type.variationID == <a class="code hl_enumvalue" href="group___element.html#gga4d3d68d8005e75609a8965845bf8e5a9af825fbe766057ea8c8308d4e0ac3b653">APIVarId_Generic</a>) {</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: %s&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*) elemName.ToCStr ());</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordtype">char</span> *p = (<span class="keywordtype">char</span> *) &amp;tboxInfo.type.variationID;</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: %s  variation \&quot;%c%c%c%c\&quot;&quot;</span>,</div>
<div class="line">                    (<span class="keyword">const</span> <span class="keywordtype">char</span>*) elemName.ToCStr (), p[0], p[1], p[2], p[3]);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (buffer, <span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga729a333db88aa176e786711438e15ada" name="ga729a333db88aa176e786711438e15ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga729a333db88aa176e786711438e15ada">&#9670;&#160;</a></span>ACAPI_Toolbox_SetToolBoxMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Toolbox_SetToolBoxMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *</td>          <td class="paramname"><span class="paramname"><em>toolBoxItem</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the actual toolbox mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxItem</td><td>[in] Toolbox mode to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function completed with success.</li>
<li>APIERR_BADPARS - The variationID of the library part type does not match to the toolbox mode type</li>
<li>APIERR_BADID - toolBoxItem-&gt;type contains invalid data </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to change the current toolbox mode. The mode is specified by the element type ID. For those types which can have more toolbox modes (ID_Wind, ID_Door, ID_Symb, ID_Light), the variationID of the tool should also be supplied. For <code>API_ZombieElemID</code> or an invalid element type ID specification the arrow mode will be set. Note that the function does not switch the toolbox immediately, but posts an event into the application queue. The command will be executed only when the application events are processed. To get the active toolbox mode use the <a class="el" href="#ga9cf64c965e7965d4d45b8269244288be">ACAPI_Toolbox_GetToolBoxMode</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>        guid;</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>     element {};</div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> tboxInfo {};</div>
<div class="line">GSErrCode       err;</div>
<div class="line"> </div>
<div class="line">tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#aafe5c6f1486e5da87a849afddd61bb9b">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a74b48da6204a8f92dbeb1cf455bd6515">API_ZombieElemID</a>;</div>
<div class="line"><span class="keywordflow">if</span> (ClickAnElem (<span class="stringliteral">&quot;Click an element to set toolbox mode&quot;</span>, <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a74b48da6204a8f92dbeb1cf455bd6515">API_ZombieElemID</a>, <span class="keyword">nullptr</span>, &amp;tboxInfo.type, &amp;guid, <span class="keyword">nullptr</span>)) {</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a77402ed87d9de631047a130ae5354ecf">API_ObjectID</a> || tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a0f2939f12690ece652876c38e945f84d">API_LampID</a> ||</div>
<div class="line">        tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a6dd844c26fe8a167b311625dded25345">API_WindowID</a> || tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a622907eb96c9b3f4578d047e7a6b1682">API_DoorID</a>)</div>
<div class="line">    {</div>
<div class="line">        element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a7f5c563f02fce9eed861b2c0dc9d7daa">typeID</a>  = tboxInfo.type.typeID;</div>
<div class="line">        element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae1c055907c06039af552a4e42a9a4e84">guid</a>         = guid;</div>
<div class="line">        err = <a class="code hl_function" href="group___element.html#ga365cc4e0f7ecb9bad0ca6d27a2474169">ACAPI_Element_Get</a> (&amp;element);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError)</div>
<div class="line">            tboxInfo.type.variationID = element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#aec41091f6923efe66052dc8f111770bd">variationID</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#ga729a333db88aa176e786711438e15ada">ACAPI_Toolbox_SetToolBoxMode</a> (&amp;tboxInfo);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.type == <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a74b48da6204a8f92dbeb1cf455bd6515">API_ZombieElemID</a>)</div>
<div class="line">        WriteReport (<span class="stringliteral">&quot;Current toolbox mode: Arrow&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (tboxInfo.type.variationID == <a class="code hl_enumvalue" href="group___element.html#gga4d3d68d8005e75609a8965845bf8e5a9af825fbe766057ea8c8308d4e0ac3b653">APIVarId_Generic</a>) {</div>
<div class="line">            WriteReport (<span class="stringliteral">&quot;Current toolbox mode: %s&quot;</span>, ElemID_To_Name (tboxInfo.type).ToCStr ().Get ());</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordtype">char</span> *p = (<span class="keywordtype">char</span> *) &amp;tboxInfo.type.variationID;</div>
<div class="line">            WriteReport (<span class="stringliteral">&quot;Current toolbox mode: %s  External \&quot;%c%c%c%c\&quot;&quot;</span>, ElemID_To_Name (tboxInfo.type).ToCStr ().Get (), p[0], p[1], p[2], p[3]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
