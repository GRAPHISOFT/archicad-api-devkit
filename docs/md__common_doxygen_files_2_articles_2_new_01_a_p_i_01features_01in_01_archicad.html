<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 28 C++ API: New API features in Archicad 28</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 28 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__common_doxygen_files_2_articles_2_new_01_a_p_i_01features_01in_01_archicad.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">New API features in Archicad 28 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="newfeatures"></a> </p>
<h1><a class="anchor" id="autotoc_md55"></a>
New API features in Archicad 28</h1>
<p>This outline summarizes the major new features and changes in the API available with Archicad 28.</p>
<h2><a class="anchor" id="autotoc_md56"></a>
System requirements changes</h2>
<ul>
<li>The deployment target on macOS changed to macOS 11.</li>
</ul>
<h2><a class="anchor" id="autotoc_md57"></a>
Technical changes</h2>
<ul>
<li>Fundamental built-in properties are no longer accessible from the API. These properties have a corresponding user-level built-in property, which can be used in place of the fundamental one.</li>
<li><a class="el" href="class_a_c_a_p_i_1_1_cutaway_1_1v1_1_1_cutting_plane.html">ACAPI::Cutaway::v1::CuttingPlane</a> ⇒ Cutting Plane management has been modernized and more data is accessible now regarding the Cut Polygon.</li>
<li>Library Management is renewing. The old structures and functions are available, <a class="el" href="group___library_management.html">Read more about.</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md58"></a>
New functionality</h2>
<ul>
<li><a class="el" href="class_a_c_a_p_i_1_1v1_1_1_zone_labeling_settings.html">ACAPI::v1::ZoneLabelingSettings</a> ⇒ Get the current state and change the automatic label settings for zones.</li>
<li><a class="el" href="class_i_f_c_a_p_i_1_1v1_1_1_object_i_d.html">IFCAPI::v1::ObjectID</a> ⇒ New class to identify an IFC entity (e.g: IfcBuildingStorey, IfcBeam, IfcZone, etc.)<ul>
<li><a class="el" href="group___i_f_c.html#ga1daf9fb8777990ffa8a4c8b2e8acf81e">IFCAPI::v1::ObjectAccessor::CreateIfcProjectObjectID</a>, <a class="el" href="group___i_f_c.html#ga9884215ef12e19b51ab87d8f5cd2100e">IFCAPI::v1::ObjectAccessor::CreateIfcSiteObjectID</a>, <a class="el" href="group___i_f_c.html#gab1879a9e09f3df0310077dec26d404b5">IFCAPI::v1::ObjectAccessor::CreateIfcBuildingObjectID</a>, <a class="el" href="group___i_f_c.html#ga484421fff65aabef58757bfdd506263c">IFCAPI::v1::ObjectAccessor::CreateIfcBuildingStoreyObjectID</a>, <a class="el" href="group___i_f_c.html#gab707ec0961a7fb2f62d05357a1a67bf2">IFCAPI::v1::ObjectAccessor::CreateElementObjectID</a> ⇒ for creation.</li>
<li><a class="el" href="group___i_f_c.html#ga28f95001a3b43afca8229460004e27d1">IFCAPI::v1::ObjectAccessor::GetAPIElementID</a> <a class="el" href="group___i_f_c.html#ga7acc680a73a0778c33ce1e504bcf7c27">IFCAPI::v1::ObjectAccessor::GetStoryIndex</a> ⇒ to get AC story index.</li>
</ul>
</li>
<li><a class="el" href="group___i_f_c.html#gad6b5c5a570181a74390b596525729df1">IFCAPI::v1::ObjectAccessor::GetGlobalId</a>, <a class="el" href="group___i_f_c.html#gad9cfc11861c791a3ea2f362a703715b5">IFCAPI::v1::ObjectAccessor::GetExternalGlobalId</a>, <a class="el" href="group___i_f_c.html#gad35b63506cf2bc86158299d9d8b797f7">IFCAPI::v1::ObjectAccessor::FindElementsByGlobalId</a> ⇒ IFC entity's GlobalId handlers.</li>
<li><a class="el" href="group___i_f_c.html#ga1a7984d327ad1bc8ae5f8d00fe55b3a4">IFCAPI::v1::ObjectAccessor::GetIFCType</a> ⇒ Get IFC type of an IFC entity.</li>
<li><a class="el" href="group___i_f_c.html#gac27b140636841a8edbb5a05655c2c551">IFCAPI::v1::ObjectAccessor::GetTypeObjectIFCType</a> ⇒ Get IFC type of the IfcTypeObject of an IFC entity.</li>
<li><a class="el" href="group___i_f_c.html#ga09a917867174665760bf395e677ac1f0">IFCAPI::v1::ObjectAccessor::GetAssignments</a> ⇒ Get the persistent IFC Assignment Tree.</li>
<li><a class="el" href="group___i_f_c.html#gafa31a8702f469bad26dbaf1c1dd270fb">IFCAPI::v1::PropertyAccessor::GetPreviewProperties</a>, <a class="el" href="group___i_f_c.html#gabfec3dedde285fbaf724a40c816170c5">IFCAPI::v1::PropertyAccessor::GetLocalProperties</a>, <a class="el" href="group___i_f_c.html#gacdb109a0be3a71108bfc9aa5b175e647">IFCAPI::v1::PropertyAccessor::GetAttributes</a>, <a class="el" href="group___i_f_c.html#ga2becf9e23581cb8af92d9aab0a212819">IFCAPI::v1::PropertyAccessor::GetPreviewClassificationReferences</a>, <a class="el" href="group___i_f_c.html#gabf58b2a1fba25320272829ddfc67ee8a">IFCAPI::v1::PropertyAccessor::GetLocalClassificationReferences</a> ⇒ To get IFC properties / attributes / classification references.</li>
<li>IFC Hook<ul>
<li><a class="el" href="group___i_f_c.html#ga47bbb78567813aafbace6d884478a260">IFCAPI::v1::HookManager::RegisterPropertyHook</a>, <a class="el" href="group___i_f_c.html#ga8a951b2f22e5fb81b2b8e56d190d0cb8">IFCAPI::v1::HookManager::UnregisterPropertyHook</a>, <a class="el" href="group___i_f_c.html#gae8b9fc079e1f30fc921e514769c70e84">IFCAPI::v1::HookManager::RegisterAttributeHook</a>, <a class="el" href="group___i_f_c.html#ga27bc79b34f04cfee73d6cb3e65c2487e">IFCAPI::v1::HookManager::UnregisterAttributeHook</a>, <a class="el" href="group___i_f_c.html#gab94a196af2438a3292192c64d7a98bce">IFCAPI::v1::HookManager::RegisterClassificationReferenceHook</a>, <a class="el" href="group___i_f_c.html#ga585b4399f6f48685ea1122b568b2d7af">IFCAPI::v1::HookManager::UnregisterClassificationReferenceHook</a>, <a class="el" href="group___i_f_c.html#gaa6b47fee19c7f8c045f159498672757a">IFCAPI::v1::HookManager::RegisterTypeObjectPropertyHook</a>, <a class="el" href="group___i_f_c.html#ga9470582ea59ae6856da52eca7a140f8d">IFCAPI::v1::HookManager::UnregisterTypeObjectPropertyHook</a>, <a class="el" href="group___i_f_c.html#gae6906f5fb1bc948e3eff0eaf3d19d072">IFCAPI::v1::HookManager::RegisterTypeObjectAttributeHook</a>, <a class="el" href="group___i_f_c.html#gad809228d4dbd65ee41db3a8d825d9890">IFCAPI::v1::HookManager::UnregisterTypeObjectAttributeHook</a>, <a class="el" href="group___i_f_c.html#gabbf0342b967330c3482ddcc39276db9f">IFCAPI::v1::HookManager::RegisterTypeObjectClassificationReferenceHook</a>, <a class="el" href="group___i_f_c.html#ga56fe1d1abc7272ba4a91469a3a75ffc2">IFCAPI::v1::HookManager::UnregisterTypeObjectClassificationReferenceHook</a> ⇒ To influence IFC properties/attributes/classification references during export.</li>
<li><a class="el" href="group___i_f_c.html#ga934237a376c3a1bd884cfa492fe496b0">IFCAPI::v1::HookManager::RegisterAssignmentsHook</a>, <a class="el" href="group___i_f_c.html#ga1c7bfb0a8f2be9827e1d81fb13444afe">IFCAPI::v1::HookManager::UnregisterAssignmentsHook</a> ⇒ To influence IFC grouping during export.</li>
</ul>
</li>
<li>Use <a class="el" href="group___hotlink.html#gac4ae57f880c5d98c456486f0e303f7a3">ACAPI_Hotlink_GetHotlinkStoryInfo</a> to obtain story-related information for hotlinks</li>
</ul>
<h2><a class="anchor" id="autotoc_md59"></a>
Modified/new structures</h2>
<ul>
<li>API_PropertyDefinitionFilter_FundamentalBuiltIn was removed from API_PropertyDefinitionFilter.</li>
<li><a class="el" href="class_tracking_1_1_tracker.html">Tracking::Tracker</a> ⇒ Some member functions (<code>ToolTipTextRequested</code>, <code>MouseMoveEventHandler</code>, <code>MouseClickEventHandler</code>, and <code>MouseRClickEventHandler</code>) became private and the class is now documented</li>
<li><a class="el" href="struct_a_p_i___beam_segment_type.html">API_BeamSegmentType</a> ⇒ got a new extrusionMaterial member (the material override structure of the extrusion surface)</li>
<li>Library: following new classes were introduced:<ul>
<li><a class="el" href="class_a_c_a_p_i_1_1_library_1_1v1_1_1_library_manager.html" title="LibraryManager is the central point of the Library and the LibPart management.">ACAPI::Library::v1::LibraryManager</a></li>
<li><a class="el" href="class_a_c_a_p_i_1_1_library_1_1v1_1_1_library.html" title="Library is the representation of an item in the library list of an ArchiCAD project.">ACAPI::Library::v1::Library</a></li>
<li><a class="el" href="class_a_c_a_p_i_1_1_library_1_1v1_1_1_lib_part.html" title="LibPart is the representation of a file-like item in a Library (.gsm, .png, .lis, etc....">ACAPI::Library::v1::LibPart</a></li>
<li><a class="el" href="class_a_c_a_p_i_1_1_library_1_1v1_1_1_g_s_m_object.html" title="GSMObject is the representation of a loaded .gsm file.">ACAPI::Library::v1::GSMObject</a></li>
<li><a class="el" href="class_a_c_a_p_i_1_1_library_1_1v1_1_1_library_tree_path.html" title="Library tree location (E.g. folder, Library Part)">ACAPI::Library::v1::LibraryTreePath</a></li>
</ul>
</li>
<li>Text label elements contain frame information: <a class="el" href="struct_a_p_i___text_frame_type.html">API_TextFrameType</a>, and related new control codes (<code>API_PrimCtrl_FrameBegID</code>, <code>API_PrimCtrl_FrameEndID</code>) for <code>ShapePrimsProc</code></li>
<li>new control codes for <code>ShapePrimsProc</code>: <code>API_PrimCtrl_BackgroundFillBegID</code>, <code>API_PrimCtrl_BackgroundFillEndID</code> to indicate the primitive drawing of the backgroud fill</li>
<li><code>API_OpeningProjected</code> is now available in <a class="el" href="struct_a_p_i___opening_floor_plan_parameters.html">API_OpeningFloorPlanParameters</a> – <code>textContent</code> in <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> is now a <code>GS::UniString*</code> instead of a <code>char**</code> handle</li>
<li>Teamwork access rights has been expanded with <code>APIKeynotesCreate</code> and <code>APIKeynotesDeleteModify</code></li>
<li>Renamed Design Variant-related teamwork access rights to Design Options: <code>APIDesignOptionsCreate</code>, <code>APIDesignOptionsDeleteModify</code></li>
<li><a class="el" href="struct_a_p_i___override_rule_group.html">API_OverrideRuleGroup</a> represents a named group of override rules</li>
<li><code>GS::HashTable</code> <code>key</code>s and <code>value</code>s became references (instead of pointers): <div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> it = table.Enumerate (); it != <span class="keyword">nullptr</span>; ++it)</div>
<div class="line">    Process (it-&gt;key, it-&gt;value);    <span class="comment">// was: Process (*(it-&gt;key), *(it-&gt;value));</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [k, v] : table)</div>
<div class="line">    Process (k, v);    <span class="comment">// was: Process (*k, *v);</span></div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
Modified/new functions</h2>
<ul>
<li><a class="el" href="class_a_c_a_p_i_1_1v1_1_1_zone_labeling_settings.html#a0280bf6ba31f8c602e169f666a08de54">ACAPI::v1::ZoneLabelingSettings::IsAutomaticLabelingOn</a> ⇒ new function to return if a label should automatically be placed onto a new zone or not.</li>
<li><a class="el" href="class_a_c_a_p_i_1_1v1_1_1_zone_labeling_settings.html#a3f6162883e36837806e5956b18e9ac21">ACAPI::v1::ZoneLabelingSettings::SetAutomaticLabeling</a> ⇒ new function to set whether a label should automatically be placed onto new zones or not.</li>
<li><a class="el" href="class_a_c_a_p_i_1_1v1_1_1_zone_labeling_settings.html#a95ef6a68f547e8cf5be90e9506d25209">ACAPI::v1::ZoneLabelingSettings::GetSelectedFavoriteName</a> ⇒ new function to return the selected favorite from infobox for a zone.</li>
<li><a class="el" href="class_a_c_a_p_i_1_1v1_1_1_zone_labeling_settings.html#a6afe6ce54488200da519d78232798a4a">ACAPI::v1::ZoneLabelingSettings::SetSelectedFavorite</a> ⇒ new function to set the label favorite that should be used for the automatic labeling of zones.</li>
<li>Fundamental built-in properties are no longer available through the API. Inside API_PropertyDefinitionFilter enum, API_PropertyDefinitionFilter_FundamentalBuiltIn value has been removed, and API_PropertyDefinitionFilter_UserLevelBuiltIn was renamed to API_PropertyDefinitionFilter_BuiltIn.</li>
<li>ACAPI_Element_GetIFCType was replaced with <a class="el" href="group___i_f_c.html#ga1a7984d327ad1bc8ae5f8d00fe55b3a4">IFCAPI::v1::ObjectAccessor::GetIFCType</a>.</li>
<li>Notifications on window order changes: <code>OnWindowBroughtForward()</code>, <code>OnWindowSentBackward()</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md61"></a>
Deprecated functions and structures</h2>
<p>These functions and structures are currently available, but they are intended to be removed in the future. They will not receive bug fixes and support.</p>
<ul>
<li>ACAPI_LibraryManagement_GetLibraries ⇒ use ACAPI::LM::LibraryManager::Modifier::FindLibraries</li>
<li>ACAPI_LibraryManagement_SetLibraries ⇒ use ACAPI::LM::LibraryManager::Modifier::AddLibrary</li>
<li>ACAPI_LibraryManagement_ResetLibraries ⇒ use ACAPI::LM::LibraryManager::Modifier::RemoveLibrary</li>
<li>ACAPI_LibraryManagement_AddLibraries ⇒ use ACAPI::LM::LibraryManager::Modifier::AddLibrary</li>
<li>ACAPI_LibraryManagement_OverwriteLibPart ⇒ use ACAPI::LM::GSMObject::CopyTo</li>
<li>ACAPI_LibraryPart_GetNum, ACAPI_LibraryPart_Search, ACAPI_LibraryPart_PatternSearch, ACAPI_LibraryPart_Get ⇒ use ACAPI::LM::LibraryManager::Modifier::FindLibParts</li>
<li>ACAPI_LibraryPart_GetParams ⇒ use ACAPI::LM::GSMObject::GetParameters</li>
<li>ACAPI_LibraryPart_GetSection ⇒ use ACAPI::LM::GSMObject::GetCustomSection</li>
<li>ACAPI_LibraryPart_Create, ACAPI_LibraryPart_AddSection, ACAPI_LibraryPart_UpdateSection, ACAPI_LibraryPart_NewSection, ACAPI_LibraryPart_WriteSection, ACAPI_LibraryPart_EndSection, ACAPI_LibraryPart_GetSect_ParamDef, ACAPI_LibraryPart_Save ⇒ use ACAPI::LM::GSMObject::Modifier</li>
<li>ACAPI_LibraryPart_GetLibPartRefGuid, ACAPI_LibraryPart_GetLibPartUnIDStr ⇒ use ACAPI::LM::GSMObject::GetUnID</li>
<li>ACAPI_LibraryPart_GetLibPartLockStatus ⇒ use ACAPI::LM:: LibraryManager::GetTWID</li>
<li><a class="el" href="struct_a_p_i___lib_part.html" title="Definition of a Library Part.">API_LibPart</a>, <a class="el" href="struct_a_p_i___lib_part_section.html" title="Definition of a Library Part section.">API_LibPartSection</a> ⇒ use ACAPI::LM::LibPart and ACAPI::LM::GSMObject</li>
</ul>
<h2><a class="anchor" id="autotoc_md62"></a>
Deleted functionality</h2>
<ul>
<li>ACAPI_Property_AddProperty, ACAPI_Property_DeleteProperty, ACAPI_Attribute_AddProperty, and ACAPI_Attribute_DeleteProperty functions have been deleted, due to their confusing behavior. If you, for example, want to make a property available to a given element, see the EnsurePropertyExistsAvailableToElement function in the Property_Test AddOn.</li>
<li>ACAPI_Element_GetIFCPropertyValuePrimitiveType function has been deleted.</li>
<li><code>charCode</code> has been deleted from <a class="el" href="struct_a_p_i___text_type.html">API_TextType</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
</body>
</html>