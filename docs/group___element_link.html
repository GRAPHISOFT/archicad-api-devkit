<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Element Links</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___element_link.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Element Links</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for creating, handling and deleting custom (Add-On specific) Element Links. These links can provide associations between two elements. The advantage of using element linking is that the server application automatically tracks changes in the GUIDs, and updates them accordingly.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8dafce884b3eee1258672cb2468a17dd" id="r_ga8dafce884b3eee1258672cb2468a17dd"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8dafce884b3eee1258672cb2468a17dd">ACAPI_ElementLink_Link</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkFrom, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkTo, GSFlags linkFlags)</td></tr>
<tr class="memdesc:ga8dafce884b3eee1258672cb2468a17dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Links one element to another.  <br /></td></tr>
<tr class="separator:ga8dafce884b3eee1258672cb2468a17dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacdb3a1c2b4454c90d11e2a5f18cac2c" id="r_gaacdb3a1c2b4454c90d11e2a5f18cac2c"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaacdb3a1c2b4454c90d11e2a5f18cac2c">ACAPI_ElementLink_Unlink</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkFrom, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkTo)</td></tr>
<tr class="memdesc:gaacdb3a1c2b4454c90d11e2a5f18cac2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the link from the second element to the first.  <br /></td></tr>
<tr class="separator:gaacdb3a1c2b4454c90d11e2a5f18cac2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga697e4708e72a8433b0282c03b835f79b" id="r_ga697e4708e72a8433b0282c03b835f79b"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga697e4708e72a8433b0282c03b835f79b">ACAPI_ElementLink_GetLinks</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkFrom, GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *guid_linkTo)</td></tr>
<tr class="memdesc:ga697e4708e72a8433b0282c03b835f79b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of elements linked to the given element.  <br /></td></tr>
<tr class="separator:ga697e4708e72a8433b0282c03b835f79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f9163a32904185c72f81fb9045f789" id="r_gac5f9163a32904185c72f81fb9045f789"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac5f9163a32904185c72f81fb9045f789">ACAPI_ElementLink_GetLinkFlags</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkFrom, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid_linkTo, GSFlags *linkFlags)</td></tr>
<tr class="memdesc:gac5f9163a32904185c72f81fb9045f789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the link flags associated to the link between the two elements.  <br /></td></tr>
<tr class="separator:gac5f9163a32904185c72f81fb9045f789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga229bacf0fd2d4c95ff66ed57ad278390" id="r_ga229bacf0fd2d4c95ff66ed57ad278390"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga229bacf0fd2d4c95ff66ed57ad278390">ACAPI_ElementLink_GetLinkedPropertyObjects</a> (const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *head, bool *criteria, Int32 *inviduallyLibInd, Int32 **critLibInds, Int32 *nCrits)</td></tr>
<tr class="memdesc:ga229bacf0fd2d4c95ff66ed57ad278390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves property objects linked to an element or the element default.  <br /></td></tr>
<tr class="separator:ga229bacf0fd2d4c95ff66ed57ad278390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fe6ea5021237ff1c958df3b228e23f0" id="r_ga7fe6ea5021237ff1c958df3b228e23f0"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7fe6ea5021237ff1c958df3b228e23f0">ACAPI_ElementLink_SetLinkedPropertyObjects</a> (<a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *head, bool criteria, Int32 inviduallyLibInd)</td></tr>
<tr class="memdesc:ga7fe6ea5021237ff1c958df3b228e23f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link property objects to an element or the element default.  <br /></td></tr>
<tr class="separator:ga7fe6ea5021237ff1c958df3b228e23f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for creating, handling and deleting custom (Add-On specific) Element Links. These links can provide associations between two elements. The advantage of using element linking is that the server application automatically tracks changes in the GUIDs, and updates them accordingly. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga229bacf0fd2d4c95ff66ed57ad278390" name="ga229bacf0fd2d4c95ff66ed57ad278390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga229bacf0fd2d4c95ff66ed57ad278390">&#9670;&#160;</a></span>ACAPI_ElementLink_GetLinkedPropertyObjects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_GetLinkedPropertyObjects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *</td>          <td class="paramname"><span class="paramname"><em>head</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>criteria</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 *</td>          <td class="paramname"><span class="paramname"><em>inviduallyLibInd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 **</td>          <td class="paramname"><span class="paramname"><em>critLibInds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32 *</td>          <td class="paramname"><span class="paramname"><em>nCrits</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves property objects linked to an element or the element default. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">head</td><td>[in] Header of the element (only field guid is used). Properties linked to the default element are retrieved when guid is APINULLGuid </td></tr>
    <tr><td class="paramname">criteria</td><td>[out] Determines whether the matching properties by criteria are linked to the element </td></tr>
    <tr><td class="paramname">inviduallyLibInd</td><td>[out] Library index of individually assigned property (value zero means no individual property assigned) </td></tr>
    <tr><td class="paramname">critLibInds</td><td>[out] Aray of the library indices of linked properties matching the criteria </td></tr>
    <tr><td class="paramname">nCrits</td><td>[out] Number of linked properties matching the criteria </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the list of property objects for a linked element. Properties can be associated with construction elements by criteria and/or by individual direct assignment (at most one individual assignment can be applied to an element). This applies to all types of construction elements. If no element is specified (ie. guid is APINULLGuid), the default settings of the given element type are retrieved. Any of the arguments except head can be nullptr, in this case the function retrieves only the rest of the parameters. Remember to free the critLibInds array when not needed any more. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> GetLinkedProperties (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>  element {};</div>
<div class="line"> </div>
<div class="line">    element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae1c055907c06039af552a4e42a9a4e84">guid</a>  = guid;</div>
<div class="line">    GSErrCode err = <a class="code hl_function" href="group___element.html#ga365cc4e0f7ecb9bad0ca6d27a2474169">ACAPI_Element_Get</a> (&amp;element);</div>
<div class="line">    <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">        <span class="keywordtype">bool</span>    byCrit;</div>
<div class="line">        Int32   indivLibInd;</div>
<div class="line">        Int32   nCrits;</div>
<div class="line">        Int32   *critLibInds;</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="#ga229bacf0fd2d4c95ff66ed57ad278390">ACAPI_ElementLink_GetLinkedPropertyObjects</a> (&amp;element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>, &amp;byCrit, &amp;indivLibInd, &amp;critLibInds, &amp;nCrits) == NoError) {</div>
<div class="line">            <span class="keywordflow">if</span> (indivLibInd != 0) {</div>
<div class="line">                DBPrintf (<span class="stringliteral">&quot;Library index of individually linked property is %d.\n&quot;</span>, indivLibInd);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (byCrit) {</div>
<div class="line">                DBPrintf (<span class="stringliteral">&quot;Library indices of linked properties matching criteria are [ &quot;</span>);</div>
<div class="line">                <span class="keywordflow">for</span> (Int32 i = 0; i &lt; nCrits; ++i) {</div>
<div class="line">                    DBPrintf (<span class="stringliteral">&quot;%d &quot;</span>, critLibInds[i]);</div>
<div class="line">                }</div>
<div class="line">                DBPrintf (<span class="stringliteral">&quot;].\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            BMKillPtr ((GSPtr *) &amp;critLibInds);  <span class="comment">// dispose critLibInds</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gac5f9163a32904185c72f81fb9045f789" name="gac5f9163a32904185c72f81fb9045f789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5f9163a32904185c72f81fb9045f789">&#9670;&#160;</a></span>ACAPI_ElementLink_GetLinkFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_GetLinkFlags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkFrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkTo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSFlags *</td>          <td class="paramname"><span class="paramname"><em>linkFlags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the link flags associated to the link between the two elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guid_linkFrom</td><td>[in] Identifies the element to which the other element was linked. </td></tr>
    <tr><td class="paramname">guid_linkTo</td><td>[in] Identifies the element which was linked to the first element. </td></tr>
    <tr><td class="paramname">linkFlags</td><td>[out] Returns the custom flags assigned to the link with <a class="el" href="#ga8dafce884b3eee1258672cb2468a17dd">ACAPI_ElementLink_Link</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed linkFlags pointer is nullptr.</li>
<li>APIERR_BADDATABASE, APIERR_NOTMINE - The function cannot operate on the current database. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>When you link an element to an other, you can also pass custom flags which are stored with the link in the database. With this function you can retrieve these flags. </dd></dl>

</div>
</div>
<a id="ga697e4708e72a8433b0282c03b835f79b" name="ga697e4708e72a8433b0282c03b835f79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga697e4708e72a8433b0282c03b835f79b">&#9670;&#160;</a></span>ACAPI_ElementLink_GetLinks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_GetLinks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkFrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>guid_linkTo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of elements linked to the given element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guid_linkFrom</td><td>[in] Identifies the element to which the other elements were linked. </td></tr>
    <tr><td class="paramname">guid_linkTo</td><td>[out] Returns the GUIDs of the elements which were linked to the first element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed guid_linkTo pointer is nullptr.</li>
<li>APIERR_BADDATABASE, APIERR_NOTMINE - The function cannot operate on the current database. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The element links are not bidirectional, you always link one element to another. This function returns the list of elements linked to the element having the guid_linkFrom GUID. Note that if this function is called in an unclosed undoable session, then it returns not only the existing links, but also the links which have been deleted in the current undoable session. </dd></dl>

</div>
</div>
<a id="ga8dafce884b3eee1258672cb2468a17dd" name="ga8dafce884b3eee1258672cb2468a17dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dafce884b3eee1258672cb2468a17dd">&#9670;&#160;</a></span>ACAPI_ElementLink_Link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_Link </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkFrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkTo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GSFlags</td>          <td class="paramname"><span class="paramname"><em>linkFlags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Links one element to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guid_linkFrom</td><td>[in] Identifies the element to which the other element will be linked. </td></tr>
    <tr><td class="paramname">guid_linkTo</td><td>[in] Identifies the element to link to the first element. </td></tr>
    <tr><td class="paramname">linkFlags</td><td>[in] Custom flags to store with the link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NEEDSUNDOSCOPE - The function must be undoable, it wasn't called from an undoable command scope.</li>
<li>APIERR_BADDATABASE, APIERR_NOTMINE - The function cannot operate on the current database.</li>
<li>APIERR_BADID - One or both of the passed unique IDs are invalid, or the two IDs are equal.</li>
<li>APIERR_LINKEXIST - The elements has already been linked together. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The add-on creating the link is also registered with the link; so the link "belongs" to the add-on. The advantage of using element linking is that the server application automatically tracks changes in the GUIDs, and updates them accordingly. After establishing a link, you can also install an element observer with a callback function, that will be called when any of the observed elements change. In this callback you can find out which other elements are linked to the observed element with <a class="el" href="#ga697e4708e72a8433b0282c03b835f79b">ACAPI_ElementLink_GetLinks</a>, and retrieve the supplied linkFlags with <a class="el" href="#gac5f9163a32904185c72f81fb9045f789">ACAPI_ElementLink_GetLinkFlags</a>. You can remove the link when you are done with <a class="el" href="#gaacdb3a1c2b4454c90d11e2a5f18cac2c">ACAPI_ElementLink_Unlink</a>. </dd></dl>

</div>
</div>
<a id="ga7fe6ea5021237ff1c958df3b228e23f0" name="ga7fe6ea5021237ff1c958df3b228e23f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fe6ea5021237ff1c958df3b228e23f0">&#9670;&#160;</a></span>ACAPI_ElementLink_SetLinkedPropertyObjects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_SetLinkedPropertyObjects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> *</td>          <td class="paramname"><span class="paramname"><em>head</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>criteria</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32</td>          <td class="paramname"><span class="paramname"><em>inviduallyLibInd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link property objects to an element or the element default. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">head</td><td>[in] Header of the element (only fields type and guid are used). The setting is applied to element defaults if guid is APINULLGuid. </td></tr>
    <tr><td class="paramname">criteria</td><td>[in] Determines whether the matching properties by criteria need to be linked to the element </td></tr>
    <tr><td class="paramname">inviduallyLibInd</td><td>[in] Library index of individually selected property to be linked to the element (value zero means no individual property is to be assigned) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - head is nullptr</li>
<li>APIERR_BADID - Incorrect type was specified, or an element with the specified guid was not found.</li>
<li>APIERR_MEMFULL - Not enough memory to set the properties </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to link property objects to an element. Properties can be associated with construction elements by criteria and/or by individual direct assignment (at most one individual assignment can be applied to an element). This applies to all types of construction elements. If no element is specified (ie. guid is APINULLGuid), the setting is applied to the defaults of the given element type. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line"><span class="keywordtype">bool</span>        byCrit;</div>
<div class="line">Int32       indivLibInd;</div>
<div class="line"> </div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a1371b65c26c45bf2e6024c420bc2d3e7">API_ColumnID</a>;</div>
<div class="line"><a class="code hl_function" href="group___element.html#ga27ac921a5cb0f2669b5a20629f975c37">ACAPI_Element_GetDefaults</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a5819c3d23c6091648b590794b6b46515">column</a>.<a class="code hl_variable" href="struct_a_p_i___column_type.html#a028818e86a0e7c32899fb6676dea72be">origoPos</a>.<a class="code hl_variable" href="struct_a_p_i___coord.html#a8322bbf1f0a134a3b2556a96eb999853">x</a> = x;</div>
<div class="line">element.<a class="code hl_variable" href="union_a_p_i___element.html#a5819c3d23c6091648b590794b6b46515">column</a>.<a class="code hl_variable" href="struct_a_p_i___column_type.html#a028818e86a0e7c32899fb6676dea72be">origoPos</a>.<a class="code hl_variable" href="struct_a_p_i___coord.html#afad1c4561be17a4594be3d68f32b1eed">y</a> = y;</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a> (<span class="stringliteral">&quot;Create column with properties linked&quot;</span>,</div>
<div class="line">    [&amp;] () -&gt; GSErrCode {</div>
<div class="line">        GSErrCode err = <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">            <a class="code hl_struct" href="struct_a_p_i___elem___head.html">API_Elem_Head</a>   defHead {};</div>
<div class="line">            defHead.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> = <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a1371b65c26c45bf2e6024c420bc2d3e7">API_ColumnID</a>;    <span class="comment">// guid remains APINULLGuid</span></div>
<div class="line">            err = <a class="code hl_function" href="#ga229bacf0fd2d4c95ff66ed57ad278390">ACAPI_ElementLink_GetLinkedPropertyObjects</a> (&amp;defHead, &amp;byCrit, &amp;indivLibInd, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);   <span class="comment">// retrieve defaults</span></div>
<div class="line">            <span class="keywordflow">if</span> (err == NoError)</div>
<div class="line">                err = <a class="code hl_function" href="#ga7fe6ea5021237ff1c958df3b228e23f0">ACAPI_ElementLink_SetLinkedPropertyObjects</a> (&amp;element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>, <span class="keyword">true</span>, 0);    <span class="comment">// link properties</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line">    });</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaacdb3a1c2b4454c90d11e2a5f18cac2c" name="gaacdb3a1c2b4454c90d11e2a5f18cac2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaacdb3a1c2b4454c90d11e2a5f18cac2c">&#9670;&#160;</a></span>ACAPI_ElementLink_Unlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementLink_Unlink </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkFrom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid_linkTo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the link from the second element to the first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guid_linkFrom</td><td>[in] Identifies the element to which the other element is linked. </td></tr>
    <tr><td class="paramname">guid_linkTo</td><td>[in] Identifies the element which is linked to the first element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE, APIERR_NOTMINE - The function cannot operate on the current database.</li>
<li>APIERR_NEEDSUNDOSCOPE - The function must be undoable, it wasn't called from an undoable command scope.</li>
<li>APIERR_LINKNOTEXIST - There isn't any link from the second element to the first. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This element removes the link to the second element (identified by guid_linkTo) from the element identified by guid_linkFrom. See <a class="el" href="#ga8dafce884b3eee1258672cb2468a17dd">ACAPI_ElementLink_Link</a> for more details. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
