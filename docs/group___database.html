<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Database Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___database.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Database Manager</div></div>
</div><!--header-->
<div class="contents">

<p>Functions related to the Database Manager, creating, manupulating and switching between different databases.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___region.html">API_Region</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polygonal or rectangular region of the model.  <a href="struct_a_p_i___region.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identification parameters of a Section, Detail, Interior Elevation, Worksheet, Master Layout, Layout, and 3D Document window or window related database.  <a href="struct_a_p_i___database_un_id.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a transformation for the clipping.  <a href="struct_a_p_i___clip_tran.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds information on elements and custom checksums that should be validated for the window.  <a href="struct_a_p_i___window_validator_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2c0a47aaaf95e9f9b18330df14ce0d69" id="r_ga2c0a47aaaf95e9f9b18330df14ce0d69"><td class="memItemLeft" align="right" valign="top">typedef GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#ga2c0a47aaaf95e9f9b18330df14ce0d69">APICustomWindowHandlerProc</a>(const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;userRefId, API_NotifyWindowEventID notifID)</td></tr>
<tr class="memdesc:ga2c0a47aaaf95e9f9b18330df14ce0d69"><td class="mdescLeft">&#160;</td><td class="mdescRight">User supplied callback function for handling events in windows opened by the add-on.  <br /></td></tr>
<tr class="separator:ga2c0a47aaaf95e9f9b18330df14ce0d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga952fe8976ad428e5ca6deb307b085624" id="r_ga952fe8976ad428e5ca6deb307b085624"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga952fe8976ad428e5ca6deb307b085624">API_DatabaseTypeID</a> = <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a></td></tr>
<tr class="memdesc:ga952fe8976ad428e5ca6deb307b085624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible values of a window/database identifier.  <br /></td></tr>
<tr class="separator:ga952fe8976ad428e5ca6deb307b085624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38bea73a6617d9591c2035d9a37c2c34" id="r_ga38bea73a6617d9591c2035d9a37c2c34"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> = <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a></td></tr>
<tr class="memdesc:ga38bea73a6617d9591c2035d9a37c2c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identification parameters of a project database.  <br /></td></tr>
<tr class="separator:ga38bea73a6617d9591c2035d9a37c2c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabdcb6c195f6a97da8871b068c4dc8bec" id="r_gabdcb6c195f6a97da8871b068c4dc8bec"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gabdcb6c195f6a97da8871b068c4dc8bec">ACAPI_Window_GetCurrentWindow</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo)</td></tr>
<tr class="memdesc:gabdcb6c195f6a97da8871b068c4dc8bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identifier of the current (active) window.  <br /></td></tr>
<tr class="separator:gabdcb6c195f6a97da8871b068c4dc8bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab10425c89e3744fbe521b40193d41f9b" id="r_gab10425c89e3744fbe521b40193d41f9b"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gab10425c89e3744fbe521b40193d41f9b">ACAPI_Window_ResetCurrentWindow</a> ()</td></tr>
<tr class="memdesc:gab10425c89e3744fbe521b40193d41f9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the database elements of the current window and sets up a new, empty environment.  <br /></td></tr>
<tr class="separator:gab10425c89e3744fbe521b40193d41f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5312195057875d701f549e6dd30a8ee" id="r_gaa5312195057875d701f549e6dd30a8ee"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a> (<a class="el" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a> *newWindowPars, <a class="el" href="group___window.html#ga2c0a47aaaf95e9f9b18330df14ce0d69">APICustomWindowHandlerProc</a> *handlerProc=nullptr)</td></tr>
<tr class="memdesc:gaa5312195057875d701f549e6dd30a8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new window.  <br /></td></tr>
<tr class="separator:gaa5312195057875d701f549e6dd30a8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf37f71c33c7e3609dacbfa53be7dc798" id="r_gaf37f71c33c7e3609dacbfa53be7dc798"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#gaf37f71c33c7e3609dacbfa53be7dc798">ACAPI_Window_CloseWindow</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo)</td></tr>
<tr class="memdesc:gaf37f71c33c7e3609dacbfa53be7dc798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a window.  <br /></td></tr>
<tr class="separator:gaf37f71c33c7e3609dacbfa53be7dc798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga103373ef5c7263908e868e7c13134a05" id="r_ga103373ef5c7263908e868e7c13134a05"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___window.html#ga103373ef5c7263908e868e7c13134a05">ACAPI_Window_GetOwnWindows</a> (<a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a> *windowTypeID, GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *guid=nullptr)</td></tr>
<tr class="memdesc:ga103373ef5c7263908e868e7c13134a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ids of the opened windows in an array.  <br /></td></tr>
<tr class="separator:ga103373ef5c7263908e868e7c13134a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1d24c9fb822b1d7f5c0b578c7cecf9c" id="r_gaf1d24c9fb822b1d7f5c0b578c7cecf9c"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:gaf1d24c9fb822b1d7f5c0b578c7cecf9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the identifier of the current (active) database.  <br /></td></tr>
<tr class="separator:gaf1d24c9fb822b1d7f5c0b578c7cecf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa914c768a602867067fcb24d26fb3ef6" id="r_gaa914c768a602867067fcb24d26fb3ef6"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa914c768a602867067fcb24d26fb3ef6">ACAPI_Window_ResetCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:gaa914c768a602867067fcb24d26fb3ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the database elements of the current window and sets up a new, empty environment.  <br /></td></tr>
<tr class="separator:gaa914c768a602867067fcb24d26fb3ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4792e476ab41dec96cf9036341b156d7" id="r_ga4792e476ab41dec96cf9036341b156d7"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:ga4792e476ab41dec96cf9036341b156d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the current (active) database.  <br /></td></tr>
<tr class="separator:ga4792e476ab41dec96cf9036341b156d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd335e13349155e9ca1edd2b76423961" id="r_gadd335e13349155e9ca1edd2b76423961"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd335e13349155e9ca1edd2b76423961">ACAPI_Database_RedrawCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:gadd335e13349155e9ca1edd2b76423961"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redraws the current database, even it's associated window is in the background.  <br /></td></tr>
<tr class="separator:gadd335e13349155e9ca1edd2b76423961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8523b06e4781b4cb32f61bb651fbc82d" id="r_ga8523b06e4781b4cb32f61bb651fbc82d"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8523b06e4781b4cb32f61bb651fbc82d">ACAPI_Database_RebuildCurrentDatabase</a> ()</td></tr>
<tr class="memdesc:ga8523b06e4781b4cb32f61bb651fbc82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuilds the current database, even it's associated window is in the background.  <br /></td></tr>
<tr class="separator:ga8523b06e4781b4cb32f61bb651fbc82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19d02f7158e60e0f8e229ae72afe3ad0" id="r_ga19d02f7158e60e0f8e229ae72afe3ad0"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga19d02f7158e60e0f8e229ae72afe3ad0">ACAPI_Database_NewDatabase</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *parent=nullptr, const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *child=nullptr)</td></tr>
<tr class="memdesc:ga19d02f7158e60e0f8e229ae72afe3ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new independent detail, worksheet, layout or master layout database.  <br /></td></tr>
<tr class="separator:ga19d02f7158e60e0f8e229ae72afe3ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9fce5ab6b88c57cc6d4bb35c8cc3c11" id="r_gab9fce5ab6b88c57cc6d4bb35c8cc3c11"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab9fce5ab6b88c57cc6d4bb35c8cc3c11">ACAPI_Database_ModifyDatabase</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:gab9fce5ab6b88c57cc6d4bb35c8cc3c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the parameters of an independent detail, worksheet, layout or master layout database.  <br /></td></tr>
<tr class="separator:gab9fce5ab6b88c57cc6d4bb35c8cc3c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b7930c8bfdd4cce1eb33002439912ce" id="r_ga5b7930c8bfdd4cce1eb33002439912ce"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5b7930c8bfdd4cce1eb33002439912ce">ACAPI_Database_DeleteDatabase</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo)</td></tr>
<tr class="memdesc:ga5b7930c8bfdd4cce1eb33002439912ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an independent detail, worksheet, layout, or master layout database.  <br /></td></tr>
<tr class="separator:ga5b7930c8bfdd4cce1eb33002439912ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab49927cb5e1cf060977428312b220d8f" id="r_gab49927cb5e1cf060977428312b220d8f"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab49927cb5e1cf060977428312b220d8f">ACAPI_Window_GetDatabaseInfo</a> (<a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *databaseInfo, <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *databaseId=nullptr)</td></tr>
<tr class="memdesc:gab49927cb5e1cf060977428312b220d8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves information of the given database.  <br /></td></tr>
<tr class="separator:gab49927cb5e1cf060977428312b220d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1dce7bf6451e0dfc5d0ed516417bf65" id="r_gab1dce7bf6451e0dfc5d0ed516417bf65"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab1dce7bf6451e0dfc5d0ed516417bf65">ACAPI_Database_GetDBUnIdFromGuid</a> (<a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *elemSetId, short *userId, UInt32 *databaseId)</td></tr>
<tr class="memdesc:gab1dce7bf6451e0dfc5d0ed516417bf65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the old database identifiers from the database GUID.  <br /></td></tr>
<tr class="separator:gab1dce7bf6451e0dfc5d0ed516417bf65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c99a3d8cf91afd227a706b9d219a15c" id="r_ga9c99a3d8cf91afd227a706b9d219a15c"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9c99a3d8cf91afd227a706b9d219a15c">ACAPI_Database_GetGuidFromDBUnId</a> (short *userId, UInt32 *databaseId, <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *elemSetId)</td></tr>
<tr class="memdesc:ga9c99a3d8cf91afd227a706b9d219a15c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the GUID from old database identifiers.  <br /></td></tr>
<tr class="separator:ga9c99a3d8cf91afd227a706b9d219a15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97b733c8bcf7bc3eb32cf63c9bb6cfb1" id="r_ga97b733c8bcf7bc3eb32cf63c9bb6cfb1"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97b733c8bcf7bc3eb32cf63c9bb6cfb1">ACAPI_Database_GetDetailDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga97b733c8bcf7bc3eb32cf63c9bb6cfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all detail databases.  <br /></td></tr>
<tr class="separator:ga97b733c8bcf7bc3eb32cf63c9bb6cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfa9064dd6edd45c933050d6e1ff4aac" id="r_gacfa9064dd6edd45c933050d6e1ff4aac"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacfa9064dd6edd45c933050d6e1ff4aac">ACAPI_Database_GetLayoutDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gacfa9064dd6edd45c933050d6e1ff4aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all layout databases.  <br /></td></tr>
<tr class="separator:gacfa9064dd6edd45c933050d6e1ff4aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2200b88fdecb81805459aeb301e82ad4" id="r_ga2200b88fdecb81805459aeb301e82ad4"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2200b88fdecb81805459aeb301e82ad4">ACAPI_Database_GetMasterLayoutDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga2200b88fdecb81805459aeb301e82ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all master layout databases.  <br /></td></tr>
<tr class="separator:ga2200b88fdecb81805459aeb301e82ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c0674a71c4f0355b193c3f965f759bf" id="r_ga5c0674a71c4f0355b193c3f965f759bf"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5c0674a71c4f0355b193c3f965f759bf">ACAPI_Window_AddTextWindowContent</a> (<a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *windowInfo, const char *content, const GS::UniString *uniContent=nullptr)</td></tr>
<tr class="memdesc:ga5c0674a71c4f0355b193c3f965f759bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds new lines to the content of a text window.  <br /></td></tr>
<tr class="separator:ga5c0674a71c4f0355b193c3f965f759bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a8dbfbf9c7dea97112442d5bf9b6bba" id="r_ga8a8dbfbf9c7dea97112442d5bf9b6bba"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">ACAPI_Database_StartClippingSession</a> ()</td></tr>
<tr class="memdesc:ga8a8dbfbf9c7dea97112442d5bf9b6bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up clipping session for newly created elements to be clipped.  <br /></td></tr>
<tr class="separator:ga8a8dbfbf9c7dea97112442d5bf9b6bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf960f6c2d6f00e12f4b4b0e08c175693" id="r_gaf960f6c2d6f00e12f4b4b0e08c175693"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf960f6c2d6f00e12f4b4b0e08c175693">ACAPI_Database_DoClip</a> (<a class="el" href="struct_a_p_i___region.html">API_Region</a> *clipRegion, <a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a> *clipTran=nullptr)</td></tr>
<tr class="memdesc:gaf960f6c2d6f00e12f4b4b0e08c175693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clips the elements created during a clipping session.  <br /></td></tr>
<tr class="separator:gaf960f6c2d6f00e12f4b4b0e08c175693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94e767078ea9682897b962e65e33585f" id="r_ga94e767078ea9682897b962e65e33585f"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga94e767078ea9682897b962e65e33585f">ACAPI_Database_StopClippingSession</a> ()</td></tr>
<tr class="memdesc:ga94e767078ea9682897b962e65e33585f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops clipping elements.  <br /></td></tr>
<tr class="separator:ga94e767078ea9682897b962e65e33585f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d2f4d0a1f781617c9f037e4b9becf7b" id="r_ga9d2f4d0a1f781617c9f037e4b9becf7b"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9d2f4d0a1f781617c9f037e4b9becf7b">ACAPI_Database_GetLocOrigo</a> (<a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> *locOrigin)</td></tr>
<tr class="memdesc:ga9d2f4d0a1f781617c9f037e4b9becf7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the local origin of the current database.  <br /></td></tr>
<tr class="separator:ga9d2f4d0a1f781617c9f037e4b9becf7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9159b3668cb5a7bcad1c5e7d8d7e533" id="r_gaa9159b3668cb5a7bcad1c5e7d8d7e533"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa9159b3668cb5a7bcad1c5e7d8d7e533">ACAPI_Database_GetSectionDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gaa9159b3668cb5a7bcad1c5e7d8d7e533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the section databases in the project.  <br /></td></tr>
<tr class="separator:gaa9159b3668cb5a7bcad1c5e7d8d7e533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d40a6755de5b95dfa8d692e286a4ad4" id="r_ga6d40a6755de5b95dfa8d692e286a4ad4"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6d40a6755de5b95dfa8d692e286a4ad4">ACAPI_Database_GetElevationDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga6d40a6755de5b95dfa8d692e286a4ad4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the elevation databases in the project.  <br /></td></tr>
<tr class="separator:ga6d40a6755de5b95dfa8d692e286a4ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf78dfc5d2cb2248a642f1478aee767f2" id="r_gaf78dfc5d2cb2248a642f1478aee767f2"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf78dfc5d2cb2248a642f1478aee767f2">ACAPI_Database_GetInteriorElevationDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:gaf78dfc5d2cb2248a642f1478aee767f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the interior elevation databases in the project.  <br /></td></tr>
<tr class="separator:gaf78dfc5d2cb2248a642f1478aee767f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45de1b12407bfca3ba50f8a69ac36c1c" id="r_ga45de1b12407bfca3ba50f8a69ac36c1c"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45de1b12407bfca3ba50f8a69ac36c1c">ACAPI_Database_GetWorksheetDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga45de1b12407bfca3ba50f8a69ac36c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all detail databases.  <br /></td></tr>
<tr class="separator:ga45de1b12407bfca3ba50f8a69ac36c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90b39fda3ebe3273aafea4938d14b43d" id="r_ga90b39fda3ebe3273aafea4938d14b43d"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga90b39fda3ebe3273aafea4938d14b43d">ACAPI_Database_GetDocumentFrom3DDatabases</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **databaseUnIds, GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *databaseUnIdArray=nullptr)</td></tr>
<tr class="memdesc:ga90b39fda3ebe3273aafea4938d14b43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of unique IDs of all document 3D databases.  <br /></td></tr>
<tr class="separator:ga90b39fda3ebe3273aafea4938d14b43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8bd97745d9aaff6a727bec05f1d2dab" id="r_gaf8bd97745d9aaff6a727bec05f1d2dab"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf8bd97745d9aaff6a727bec05f1d2dab">ACAPI_Database_GetContainingDatabase</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *element, <a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *dbInfo)</td></tr>
<tr class="memdesc:gaf8bd97745d9aaff6a727bec05f1d2dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the unique ID of database contains the given element.  <br /></td></tr>
<tr class="separator:gaf8bd97745d9aaff6a727bec05f1d2dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad25f93b026ec40edcb736925b60eca3b" id="r_gad25f93b026ec40edcb736925b60eca3b"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad25f93b026ec40edcb736925b60eca3b">ACAPI_Database_BuildWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo)</td></tr>
<tr class="memdesc:gad25f93b026ec40edcb736925b60eca3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new window validator for the given guid.  <br /></td></tr>
<tr class="separator:gad25f93b026ec40edcb736925b60eca3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0096f6e80d8dcaed879c26a8206a1629" id="r_ga0096f6e80d8dcaed879c26a8206a1629"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0096f6e80d8dcaed879c26a8206a1629">ACAPI_Window_DestroyWindowValidator</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *pGuid)</td></tr>
<tr class="memdesc:ga0096f6e80d8dcaed879c26a8206a1629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an already registered validator for the given guid.  <br /></td></tr>
<tr class="separator:ga0096f6e80d8dcaed879c26a8206a1629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef06b425dd9daa42dab6098256537c98" id="r_gaef06b425dd9daa42dab6098256537c98"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaef06b425dd9daa42dab6098256537c98">ACAPI_Database_CheckWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo, bool *pContentChanged)</td></tr>
<tr class="memdesc:gaef06b425dd9daa42dab6098256537c98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cheks the already added list of elements and checksums form the validator (identified by the guid) against the lists from the parameter if there was any changes.  <br /></td></tr>
<tr class="separator:gaef06b425dd9daa42dab6098256537c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf4a1b0f6a0f14a50fd5d43095982178" id="r_gaaf4a1b0f6a0f14a50fd5d43095982178"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf4a1b0f6a0f14a50fd5d43095982178">ACAPI_Database_RebuildWindowValidator</a> (const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *pValidatorInfo)</td></tr>
<tr class="memdesc:gaaf4a1b0f6a0f14a50fd5d43095982178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the element and checksum list for an already added validator with given guid.  <br /></td></tr>
<tr class="separator:gaaf4a1b0f6a0f14a50fd5d43095982178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e638715c8b40bcaeca1ae41f0eff63b" id="r_ga7e638715c8b40bcaeca1ae41f0eff63b"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7e638715c8b40bcaeca1ae41f0eff63b">ACAPI_Database_JsonQuery</a> (const GS::UniString *query, GS::UniString *result)</td></tr>
<tr class="memdesc:ga7e638715c8b40bcaeca1ae41f0eff63b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to call various functions inside Archicad.  <br /></td></tr>
<tr class="separator:ga7e638715c8b40bcaeca1ae41f0eff63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97048417a74d7792c02f956b3a63c847" id="r_ga97048417a74d7792c02f956b3a63c847"><td class="memItemLeft" align="right" valign="top">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97048417a74d7792c02f956b3a63c847">ACAPI_Database_GetDatabasesForType</a> (const <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_DatabaseTypeID</a> &amp;id)</td></tr>
<tr class="memdesc:ga97048417a74d7792c02f956b3a63c847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to collect all Archicad databases of the given type.  <br /></td></tr>
<tr class="separator:ga97048417a74d7792c02f956b3a63c847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9da20c7dcbc2fc9939fa02bdc5204e60" id="r_ga9da20c7dcbc2fc9939fa02bdc5204e60"><td class="memItemLeft" align="right" valign="top">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9da20c7dcbc2fc9939fa02bdc5204e60">ACAPI_Database_GetDatabasesForTypes</a> (const GS::Array&lt; <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_DatabaseTypeID</a> &gt; &amp;ids)</td></tr>
<tr class="memdesc:ga9da20c7dcbc2fc9939fa02bdc5204e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to collect all Archicad databases of the given types.  <br /></td></tr>
<tr class="separator:ga9da20c7dcbc2fc9939fa02bdc5204e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions related to the Database Manager, creating, manupulating and switching between different databases. </p>
<h1><a class="anchor" id="autotoc_md99"></a>
Database Overview</h1>
<p>The API enables you to work on the Archicad database. Various functions are present to create, get, modify and also delete elements, attributes and library parts. It is also possible to control the selection of elements, and some settings of the overall environment; for example stories, grid settings, etc.</p>
<p>To read the rules of data structure modifications, please read <a class="el" href="group___element.html">Command Overview</a> paper.</p>
<p>In this section, some information is provided about how the Virtual Building database is built up, and what the links are among the different components.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md100"></a>
Elements</h2>
<p>Database items named <b>elements</b> directly appear in one of the project windows. Their parameters can be set in the Settings Dialogs or in the Info Box. Most of them refer to many attributes, some of them to library parts.</p>
<p>API functions operating on elements begin with the <b>ACAPI_Element_</b> prefix. Refer to the <a class="el" href="group___element.html">Element Manager</a> to see the whole collection of functions that support element manipulations.</p>
<p>API structures referenced by the handler functions are explained in details in the <a class="el" href="group___element.html">Element Database</a> document. Refer to this document to get specific information about the data structures related to all element types.</p>
<p>To read general information about elements refer to the <a class="el" href="group___element.html">Element Overview</a> paper.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md101"></a>
Properties</h2>
<p>Properties allows one to store user-defined name-value pairs for Model elements.</p>
<p>To read general information about properties refer to the <a class="el" href="group___property.html">Properties</a> paper.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md102"></a>
Classifications</h2>
<p>Classifications allows one to classify elements and create custom classifications.</p>
<p>To read general information about classifications refer to the <a class="el" href="group___classification.html">Classification</a> paper.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md103"></a>
Attributes</h2>
<p>Database items named <b>attributes</b> are global collections of layers, pen colors, surface materials, fill patterns, etc. that are available to all eligible tools. These attribute sets are editable, and the lists and palettes in the Tool Settings dialog boxes display their current settings.</p>
<p>API functions operating on attributes begin with the <b>ACAPI_Attribute_</b> prefix. Refer to the <a class="el" href="group___attribute.html">Attribute Manager</a> to see the whole collection of functions that support attribute manipulations.</p>
<p>API structures referenced by the handler functions are explained in details in the <a class="el" href="group___attribute.html">Attribute Database</a> document. Refer to these papers to get specific information about the data structures related to all attribute types.</p>
<p>To read general information about attributes refer to the <a class="el" href="group___attribute.html">Attribute Overview</a> paper.</p>
<p>The API also provides a platform-independent way to use those custom controls in Archicad which provide the user a list of certain attributes he can choose from. You can read more on this in the <a class="el" href="_f_a_q.html">FAQ</a>.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md104"></a>
Library Parts</h2>
<p>Database items named <b>Library Parts</b> are prefabricated elements which may have instances in the project with different parameters like scaling, rotation, etc. Many elements have a reference to a specific Library Part, like windows, objects, rooms, etc. Library Parts can be created and edited through the Library Part editor dialog. The active library folders can be controlled through the Library Manager... dialog of Archicad. From v4.1, you may receive notification when the loaded libraries change.</p>
<p>API functions operating on a Library Part file begin with the <b>ACAPI_LibraryPart_</b> prefix. Refer to the <a class="el" href="group___library_part.html">Library Part Manager</a> to see the available collection of functions to manage a Library Part file.</p>
<p>API structures referenced by the handler functions are explained in details in the <a class="el" href="apicompatibility.html#Library">Library</a> document. Refer to these papers to get specific information about the data structures related to a Library Part file.</p>
<p>To read general information about library parts refer to the <a class="el" href="group___library_part.html">LibPart Overview</a> paper.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md105"></a>
Structural Analytical Model</h2>
<p>To read general information about the Structural Analytical Model refer to the <a class="el" href="group___analytical.html">Analytical Model Overview</a> paper.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md106"></a>
Environment</h2>
<p>There are database items which do not fit into any categories listed above, but have influence on the project's appearance and to the behavior of elements; such as the preferences like parameters, the drawing scale, the 3D projection parameters and so on. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga38bea73a6617d9591c2035d9a37c2c34" name="ga38bea73a6617d9591c2035d9a37c2c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38bea73a6617d9591c2035d9a37c2c34">&#9670;&#160;</a></span>API_DatabaseInfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> = <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identification parameters of a project database. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Database reference is used for several purposes:<ul>
<li>Returned while asking for the active database</li>
<li>Must be setup when changing the current database</li>
<li>Defines the database when creating/modifying/deleting an independent detail, worksheet, layout, or master layout database The databases are referenced with their unique ID, except Floor Plan, 3D Model, and custom window databases. The unique IDs can be found in the connecting elements (<a class="el" href="struct_a_p_i___cut_plane_type.html">API_CutPlaneType</a>, <a class="el" href="struct_a_p_i___detail_type.html">API_DetailType</a>, <a class="el" href="group___element.html#gab7aeb1721e24f91ead7700b1685bf65d">API_WorksheetType</a>) or listed for independent detail, worksheet, layout, and master layout databases (<a class="el" href="#ga97b733c8bcf7bc3eb32cf63c9bb6cfb1">ACAPI_Database_GetDetailDatabases</a>, <a class="el" href="#ga45de1b12407bfca3ba50f8a69ac36c1c">ACAPI_Database_GetWorksheetDatabases</a>, <a class="el" href="#gacfa9064dd6edd45c933050d6e1ff4aac">ACAPI_Database_GetLayoutDatabases</a>, <a class="el" href="#ga2200b88fdecb81805459aeb301e82ad4">ACAPI_Database_GetMasterLayoutDatabases</a> respectively). In Floor Plan and 3D Model databases, the typeID field is enough to identify them. Custom API windows (<code>APIWind_MyDrawID</code>, <code>APIWind_MyTextID</code>) are identified with typeID and index. Featuring API 10 With this structure, you can retrieve the name, the title, and the reference ID of a given window/database (see <a class="el" href="#gab49927cb5e1cf060977428312b220d8f">ACAPI_Window_GetDatabaseInfo</a>). You can also rename independent detail, worksheet, layout, and master layout databases using the name and ref fields in <a class="el" href="#gab9fce5ab6b88c57cc6d4bb35c8cc3c11">ACAPI_Database_ModifyDatabase</a>. See also <a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga952fe8976ad428e5ca6deb307b085624" name="ga952fe8976ad428e5ca6deb307b085624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga952fe8976ad428e5ca6deb307b085624">&#9670;&#160;</a></span>API_DatabaseTypeID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_DatabaseTypeID</a> = <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible values of a window/database identifier. </p>
<dl class="section remark"><dt>Remarks</dt><dd>This structure holds the parameters of a window or database reference. It must be passed in the case of changing the current window/database (<a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a>), or just getting the identification of the active one.(<a class="el" href="group___window.html#gabdcb6c195f6a97da8871b068c4dc8bec">ACAPI_Window_GetCurrentWindow</a> /<a class="el" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a>) In <a class="el" href="struct_a_p_i___publish_format_data.html">API_PublishFormatData</a> structure it defines the windows in which the publish format is available. </dd></dl>

</div>
</div>
<a id="ga2c0a47aaaf95e9f9b18330df14ce0d69" name="ga2c0a47aaaf95e9f9b18330df14ce0d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c0a47aaaf95e9f9b18330df14ce0d69">&#9670;&#160;</a></span>APICustomWindowHandlerProc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef GSErrCode APICustomWindowHandlerProc(const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;userRefId, API_NotifyWindowEventID notifID)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User supplied callback function for handling events in windows opened by the add-on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userRefId</td><td>[in] The reference GUID of the custom window, as supplied to <a class="el" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a>. </td></tr>
    <tr><td class="paramname">notifID</td><td>[in] The type of the event for the custom window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function will be called when installed with <a class="el" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a>. The following types of events will come for your custom window: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APINotifyWindow_Rebuild   </td><td class="markdownTableBodyNone">The user chose Rebuild from the menu.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">APINotifyWindow_Activate   </td><td class="markdownTableBodyNone">Your window was activated.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APINotifyWindow_Close   </td><td class="markdownTableBodyNone">The user closed your window.   </td></tr>
</table>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad25f93b026ec40edcb736925b60eca3b" name="gad25f93b026ec40edcb736925b60eca3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad25f93b026ec40edcb736925b60eca3b">&#9670;&#160;</a></span>ACAPI_Database_BuildWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_BuildWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>pValidatorInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new window validator for the given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which will be the owner of the new validator and an element and checksum list to track their changes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is already a validator registered for this guid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga4792e476ab41dec96cf9036341b156d7" name="ga4792e476ab41dec96cf9036341b156d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4792e476ab41dec96cf9036341b156d7">&#9670;&#160;</a></span>ACAPI_Database_ChangeCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_ChangeCurrentDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the current (active) database. </p>
<dl class="section since"><dt>Since</dt><dd>Archicad 25 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in] parameters of the database to be created (type, reference index) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databasePars is nullptr</li>
<li>APIERR_NOPLAN - no open project</li>
<li>APIERR_BADDATABASE - the requested database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to change the current database in the background. All the subsequent API calls to any database dependent function will work on the specified database. This function can be very expensive in case of low memory condition. The server application tries to keep as many database object in the memory as possibly, however it can happen, that some of them must be swapped out. Switching to an other database means, that the server application loads it into the memory, which may cause others to be unloaded. It can be a relatively long time. Refer to the <a class="el" href="group___window.html#ga065cae8bccda86611ff2d9d3c8a8f35c">ACAPI_Window_ChangeWindow</a> function in the case you want to change not only the database in the background, but the current front window also. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GSErrCode ChangeCurrentDatabaseToDatabaseOfSectionElement (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">    element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae1c055907c06039af552a4e42a9a4e84">guid</a> = guid;</div>
<div class="line"> </div>
<div class="line">    GSErrCode err = <a class="code hl_function" href="group___element.html#ga365cc4e0f7ecb9bad0ca6d27a2474169">ACAPI_Element_Get</a> (&amp;element);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (err != NoError)</div>
<div class="line">        <span class="keywordflow">return</span> err;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (element.<a class="code hl_variable" href="union_a_p_i___element.html#a2d99c75ff8448dd4206758c7bc65127d">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#a04205822a00b386df0875148b41835e3">type</a> != <a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a47a70e70d305491f9357608558b3264c">API_CutPlaneID</a>)</div>
<div class="line">        <span class="keywordflow">return</span> Error;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> databasePars {};</div>
<div class="line">    databasePars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a3264034d02a597566b910b7055214d40">typeID</a> = <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a6568cc54ad225b9bb6c1b9bffb9c516c">APIWind_SectionID</a>;</div>
<div class="line">    databasePars.databaseUnId = element.<a class="code hl_variable" href="union_a_p_i___element.html#a02f2bf2d4de15eba1d469899f7f0b3d7">cutPlane</a>.<a class="code hl_variable" href="struct_a_p_i___cut_plane_type.html#a819ff61057a777435ea571586f5e9651">segment</a>.<a class="code hl_variable" href="struct_a_p_i___section_segment.html#a1466f822246efad67a67f46f6229011a">databaseID</a>;</div>
<div class="line"> </div>
<div class="line">    err = <a class="code hl_function" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> (&amp;databasePars);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> err;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaef06b425dd9daa42dab6098256537c98" name="gaef06b425dd9daa42dab6098256537c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef06b425dd9daa42dab6098256537c98">&#9670;&#160;</a></span>ACAPI_Database_CheckWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_CheckWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>pValidatorInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>pContentChanged</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cheks the already added list of elements and checksums form the validator (identified by the guid) against the lists from the parameter if there was any changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which is the owner of the validator and the current, and the element and checksum list to check against. </td></tr>
    <tr><td class="paramname">pContentChanged</td><td>Out paramter for the result. true if there was a change false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo or pContentChanged is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="ga5b7930c8bfdd4cce1eb33002439912ce" name="ga5b7930c8bfdd4cce1eb33002439912ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b7930c8bfdd4cce1eb33002439912ce">&#9670;&#160;</a></span>ACAPI_Database_DeleteDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_DeleteDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an independent detail, worksheet, layout, or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in] parameters of the database to be deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - api_dbInfo is nullptr, or contains invalid database reference</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_REFUSEDCMD - attempted to delete database during signing in a Teamwork file</li>
<li>APIERR_NOTMINE - unsufficient privileges to delete database in Teamwork mode</li>
<li>APIERR_GENERAL - failed to delete the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete an independent detail drawing, worksheet layout or master layout database. This operation is not undoable. This function performs complete operations, so it cannot be called neither during undoable operations nor during non-undoable commands. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbInfo {};</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (&amp;dbInfo);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; dbInfo.typeID == <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a09b69af43dcaa362db8c0d94f26e3a65">APIWind_LayoutID</a>)</div>
<div class="line">    <a class="code hl_function" href="#ga5b7930c8bfdd4cce1eb33002439912ce">ACAPI_Database_DeleteDatabase</a> (&amp;dbInfo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaf960f6c2d6f00e12f4b4b0e08c175693" name="gaf960f6c2d6f00e12f4b4b0e08c175693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf960f6c2d6f00e12f4b4b0e08c175693">&#9670;&#160;</a></span>ACAPI_Database_DoClip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_DoClip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___region.html">API_Region</a> *</td>          <td class="paramname"><span class="paramname"><em>clipRegion</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___clip_tran.html">API_ClipTran</a> *</td>          <td class="paramname"><span class="paramname"><em>clipTran</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clips the elements created during a clipping session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clipRegion</td><td>the region to clip elements to </td></tr>
    <tr><td class="paramname">clipTran</td><td>clipping transformation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - clipRegion is nullptr</li>
<li>APIERR_NESTING - the clip session is opened for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can create elements to be clipped into the current database with a clipping region and transformation. Use the <a class="el" href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">ACAPI_Database_StartClippingSession</a> database function to open a temporary database, create the elements with <a class="el" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> into it, then call <a class="el" href="#gaf960f6c2d6f00e12f4b4b0e08c175693">ACAPI_Database_DoClip</a> to merge them into the actual database applying the given clipping parameters. Don't forget to close the clipping session with the <a class="el" href="#ga94e767078ea9682897b962e65e33585f">ACAPI_Database_StopClippingSession</a> database function to restore the target database. Note that only the 2D drawing elements will be clipped. Construction elements, like walls, columns will NOT take part in the clipping algorithm. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>  clipRegion {};</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">GSErrCode   err;</div>
<div class="line"> </div>
<div class="line">clipRegion.box.xMin = 0.0;</div>
<div class="line">clipRegion.box.xMax = 2.0;</div>
<div class="line">clipRegion.box.yMin = 1.54;</div>
<div class="line">clipRegion.box.yMax = 2.54;</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">ACAPI_Database_StartClippingSession</a> ();</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="#gaf960f6c2d6f00e12f4b4b0e08c175693">ACAPI_Database_DoClip</a> (&amp;clipRegion, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line">err = <a class="code hl_function" href="#ga94e767078ea9682897b962e65e33585f">ACAPI_Database_StopClippingSession</a> ();</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaf8bd97745d9aaff6a727bec05f1d2dab" name="gaf8bd97745d9aaff6a727bec05f1d2dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8bd97745d9aaff6a727bec05f1d2dab">&#9670;&#160;</a></span>ACAPI_Database_GetContainingDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetContainingDatabase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>element</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>dbInfo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the unique ID of database contains the given element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>[in] The referred element. </td></tr>
    <tr><td class="paramname">dbInfo</td><td>[out] The owner database ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The guid or dbInfo parameter is nullptr.</li>
<li>APIERR_NOPLAN - There is no open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the ID of owner database of the referred element. </dd></dl>

</div>
</div>
<a id="gaf1d24c9fb822b1d7f5c0b578c7cecf9c" name="gaf1d24c9fb822b1d7f5c0b578c7cecf9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">&#9670;&#160;</a></span>ACAPI_Database_GetCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetCurrentDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identifier of the current (active) database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[out] The identification parameters of the current database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_BADWINDOW - the type of the current database is not known by the API </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the parameters of the current database of the server application. It can be used to identify which database the subsequent API calls will work on. Generally the current window and the window of the current database are the same. However you must be careful; the database dependent functions work on the current database not on the database of the current window. You can change the current database by calling the <a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>

</div>
</div>
<a id="ga97048417a74d7792c02f956b3a63c847" name="ga97048417a74d7792c02f956b3a63c847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97048417a74d7792c02f956b3a63c847">&#9670;&#160;</a></span>ACAPI_Database_GetDatabasesForType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; ACAPI_Database_GetDatabasesForType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_DatabaseTypeID</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to collect all Archicad databases of the given type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The database type to collect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of database idetifiers for the given type, or any empty list if no such databases exist in the current project. </dd></dl>

</div>
</div>
<a id="ga9da20c7dcbc2fc9939fa02bdc5204e60" name="ga9da20c7dcbc2fc9939fa02bdc5204e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9da20c7dcbc2fc9939fa02bdc5204e60">&#9670;&#160;</a></span>ACAPI_Database_GetDatabasesForTypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; ACAPI_Database_GetDatabasesForTypes </td>
          <td>(</td>
          <td class="paramtype">const GS::Array&lt; <a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_DatabaseTypeID</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>ids</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to collect all Archicad databases of the given types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>List of database types to collect. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of database idetifiers for the given types, or any empty list if no such databases exist in the current project. </dd></dl>

</div>
</div>
<a id="gab1dce7bf6451e0dfc5d0ed516417bf65" name="gab1dce7bf6451e0dfc5d0ed516417bf65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1dce7bf6451e0dfc5d0ed516417bf65">&#9670;&#160;</a></span>ACAPI_Database_GetDBUnIdFromGuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetDBUnIdFromGuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>elemSetId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *</td>          <td class="paramname"><span class="paramname"><em>userId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 *</td>          <td class="paramname"><span class="paramname"><em>databaseId</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the old database identifiers from the database GUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elemSetId</td><td>[in] Unique identifier of the database. </td></tr>
    <tr><td class="paramname">userId</td><td>[out] First old identifier. </td></tr>
    <tr><td class="paramname">databaseId</td><td>[out] Second old identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - One of the parameters is nullptr. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to convert the old database identifiers to the new guid. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> databaseInfo;</div>
<div class="line"><a class="code hl_function" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (&amp;databaseInfo);</div>
<div class="line"> </div>
<div class="line">UInt32  currentDatabaseId;</div>
<div class="line"><span class="keywordtype">short</span>   userId;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="#gab1dce7bf6451e0dfc5d0ed516417bf65">ACAPI_Database_GetDBUnIdFromGuid</a> (&amp;databaseInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a7c00afe57f08d9a2e956fd989f59ddcf">databaseUnId</a>.<a class="code hl_variable" href="struct_a_p_i___database_un_id.html#aca906f331cf2b971992ac6a09aa00f4d">elemSetId</a>, &amp;userId, &amp;currentDatabaseId);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga97b733c8bcf7bc3eb32cf63c9bb6cfb1" name="ga97b733c8bcf7bc3eb32cf63c9bb6cfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97b733c8bcf7bc3eb32cf63c9bb6cfb1">&#9670;&#160;</a></span>ACAPI_Database_GetDetailDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetDetailDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all detail databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of detail database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of detail databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all detail databases, including independent details as well. Currently this is the only way you can access independent details. Independent details don't have a corresponding detail marker on the floor plan or in any of the sections/elevations. One detail database may belong to many detail markers (i.e. if you place the same marker several times, they will all refer to the same detail database). You can switch to any of the detail databases by calling the <a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>The Attribute Manager add-on uses this function to collect all the used attributes from the detail databases. </dd></dl>

</div>
</div>
<a id="ga90b39fda3ebe3273aafea4938d14b43d" name="ga90b39fda3ebe3273aafea4938d14b43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90b39fda3ebe3273aafea4938d14b43d">&#9670;&#160;</a></span>ACAPI_Database_GetDocumentFrom3DDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetDocumentFrom3DDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all document 3D databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of document 3D database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of 3D document databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all document 3D databases. Currently this is the only way you can access these kind of databases because they don't have markers. You can switch to any of the other databases by calling the <a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>The Attribute Manager add-on uses this function to collect all the used attributes from the document 3D databases. </dd></dl>

</div>
</div>
<a id="ga6d40a6755de5b95dfa8d692e286a4ad4" name="ga6d40a6755de5b95dfa8d692e286a4ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d40a6755de5b95dfa8d692e286a4ad4">&#9670;&#160;</a></span>ACAPI_Database_GetElevationDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetElevationDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the elevation databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of elevation databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of elevation databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="ga9c99a3d8cf91afd227a706b9d219a15c" name="ga9c99a3d8cf91afd227a706b9d219a15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c99a3d8cf91afd227a706b9d219a15c">&#9670;&#160;</a></span>ACAPI_Database_GetGuidFromDBUnId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetGuidFromDBUnId </td>
          <td>(</td>
          <td class="paramtype">short *</td>          <td class="paramname"><span class="paramname"><em>userId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32 *</td>          <td class="paramname"><span class="paramname"><em>databaseId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>elemSetId</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the GUID from old database identifiers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td>[in] First old identifier. </td></tr>
    <tr><td class="paramname">databaseId</td><td>[in] Second old identifier. </td></tr>
    <tr><td class="paramname">elemSetId</td><td>[out] Unique identifier of the database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - One of the parameters is nullptr. Or databaseId is 0. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to convert new database identifier guid to the old identifiers. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>The Environment Control example add-on uses this function to get floor plan s guid. </dd></dl>

</div>
</div>
<a id="gaf78dfc5d2cb2248a642f1478aee767f2" name="gaf78dfc5d2cb2248a642f1478aee767f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf78dfc5d2cb2248a642f1478aee767f2">&#9670;&#160;</a></span>ACAPI_Database_GetInteriorElevationDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetInteriorElevationDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the interior elevation databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of interior elevation databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of interior elevation databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="gacfa9064dd6edd45c933050d6e1ff4aac" name="gacfa9064dd6edd45c933050d6e1ff4aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfa9064dd6edd45c933050d6e1ff4aac">&#9670;&#160;</a></span>ACAPI_Database_GetLayoutDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetLayoutDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all layout databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of layout database unique IDs. Note: this is not handle; it's the address of a pointer. You'll have to dispose it with BMpFree when you don't need it any more. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of layout databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can get the list of all layout databases with this function, then you can use <a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> to switch to that database. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GS::Array&lt;API_DatabaseUnId&gt; dbases;</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#gacfa9064dd6edd45c933050d6e1ff4aac">ACAPI_Database_GetLayoutDatabases</a> (<span class="keyword">nullptr</span>, &amp;dbases);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dbUnId : dbases) {</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbPars {};</div>
<div class="line">        dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a7c00afe57f08d9a2e956fd989f59ddcf">databaseUnId</a> = dbUnId;</div>
<div class="line"> </div>
<div class="line">        err = <a class="code hl_function" href="#gab49927cb5e1cf060977428312b220d8f">ACAPI_Window_GetDatabaseInfo</a> (&amp;dbPars);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">            <span class="keywordtype">char</span> msgStr[1024];</div>
<div class="line">            sprintf (msgStr, <span class="stringliteral">&quot;Layout database [%d] unId:(%s) title:\&quot;%s\&quot; name:\&quot;%s\&quot; ref:\&quot;%s\&quot;&quot;</span>,</div>
<div class="line">                    dbPars.index, <a class="code hl_function" href="group___conversion.html#ga2ef6fe00edf05c416a9c8fc589374dd6">APIGuidToString</a> (dbPars.databaseUnId.elemSetId).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.title).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.name).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.ref).ToCStr ().Get ());</div>
<div class="line">            <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (msgStr, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga9d2f4d0a1f781617c9f037e4b9becf7b" name="ga9d2f4d0a1f781617c9f037e4b9becf7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d2f4d0a1f781617c9f037e4b9becf7b">&#9670;&#160;</a></span>ACAPI_Database_GetLocOrigo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetLocOrigo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___coord3_d.html">API_Coord3D</a> *</td>          <td class="paramname"><span class="paramname"><em>locOrigin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the local origin of the current database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">locOrigin</td><td>the local origin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - locOrigin is nullptr</li>
<li>APIERR_BADDATABASE - the query is valid only for the plan, section, detail and 3D window. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the local origin of the current database. This can be modified by the user by clicking on the User Origin button on the coordinate box. The value is measured relative to the origin of the virtual coordinate system. </dd></dl>

</div>
</div>
<a id="ga2200b88fdecb81805459aeb301e82ad4" name="ga2200b88fdecb81805459aeb301e82ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2200b88fdecb81805459aeb301e82ad4">&#9670;&#160;</a></span>ACAPI_Database_GetMasterLayoutDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetMasterLayoutDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all master layout databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of master layout database unique IDs. Note this is not handle; it's the address of a pointer. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of master layout databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can use this function to enumerate all master layout databases. </dd></dl>

</div>
</div>
<a id="gaa9159b3668cb5a7bcad1c5e7d8d7e533" name="gaa9159b3668cb5a7bcad1c5e7d8d7e533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9159b3668cb5a7bcad1c5e7d8d7e533">&#9670;&#160;</a></span>ACAPI_Database_GetSectionDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetSectionDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the section databases in the project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>the array of section databases (address of a pointer! not a handle). </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of section databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Don't forget to dispose the allocated pointer with BMpFree. </dd></dl>

</div>
</div>
<a id="ga45de1b12407bfca3ba50f8a69ac36c1c" name="ga45de1b12407bfca3ba50f8a69ac36c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45de1b12407bfca3ba50f8a69ac36c1c">&#9670;&#160;</a></span>ACAPI_Database_GetWorksheetDatabases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_GetWorksheetDatabases </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> **</td>          <td class="paramname"><span class="paramname"><em>databaseUnIds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>databaseUnIdArray</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of unique IDs of all detail databases. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnIds</td><td>[out] The list of worksheet database unique IDs. Note this is not handle; it's the address of a pointer. See the example below. </td></tr>
    <tr><td class="paramname">databaseUnIdArray</td><td>[out] the array of worksheet databases, in a more recent form. Pass the address of an appropriate GS::Array&lt;&gt; to get the result. This parameter has precedence over the other databaseUnIds parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - dbUnIDs is nullptr</li>
<li>APIERR_NOPLAN - the plan database does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the database unique IDs of all worksheets databases, including independent details as well. Currently this is the only way you can access independent details. [Independent worksheets don't have a corresponding detail marker on the floor plan or in any of the sections/elevations.???] [One worksheet database may belong to many worksheet markers (i.e. if you place the same marker several times, they will all refer to the same worksheet database).???] You can switch to any of the worksheet databases by calling the <a class="el" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>The Attribute Manager add-on uses this function to collect all the used attributes from the detail databases. </dd></dl>

</div>
</div>
<a id="ga7e638715c8b40bcaeca1ae41f0eff63b" name="ga7e638715c8b40bcaeca1ae41f0eff63b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e638715c8b40bcaeca1ae41f0eff63b">&#9670;&#160;</a></span>ACAPI_Database_JsonQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_JsonQuery </td>
          <td>(</td>
          <td class="paramtype">const GS::UniString *</td>          <td class="paramname"><span class="paramname"><em>query</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::UniString *</td>          <td class="paramname"><span class="paramname"><em>result</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to call various functions inside Archicad. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The request towards Archicad </td></tr>
    <tr><td class="paramname">result</td><td>The answer from Archicad </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>Other error code - <code>query</code> is invalid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The following queries/commands are available: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Query   </th><th class="markdownTableHeadNone">Result    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"getTopWindow"   </td><td class="markdownTableBodyNone">The title of the top window.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"lineConsolidation"   </td><td class="markdownTableBodyNone">Calls the Line Consolidation menu command.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"fillNormalization"   </td><td class="markdownTableBodyNone">Calls the Fill Consolidation menu command.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"usedAttributes"   </td><td class="markdownTableBodyNone">Returns the list of used attributes.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"numberOfTraceReferences"   </td><td class="markdownTableBodyNone">Returns the number of trace references.   </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="gab9fce5ab6b88c57cc6d4bb35c8cc3c11" name="gab9fce5ab6b88c57cc6d4bb35c8cc3c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9fce5ab6b88c57cc6d4bb35c8cc3c11">&#9670;&#160;</a></span>ACAPI_Database_ModifyDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_ModifyDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies the parameters of an independent detail, worksheet, layout or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - the function has completed with success.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_REFUSEDCMD - attempted to modify database parameters during signing in a Teamwork file</li>
<li>APIERR_NOTMINE - unsufficient privileges to modify database parameters in Teamwork mode</li>
<li>APIERR_GENERAL - failed to modify the database parameters </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>With this function you can rename an independent detail, worksheet, layout or master layout database, and change their reference ID. Note that you cannot change the title parameter of the database. You can also change the Master of a Layout database by passing a valid masterLayoutUnId. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbInfo {};</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (&amp;dbInfo);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; dbInfo.typeID == <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a09b69af43dcaa362db8c0d94f26e3a65">APIWind_LayoutID</a>) {</div>
<div class="line">    GS::snuprintf (dbInfo.name, sizeof (dbInfo.name), <span class="stringliteral">&quot;Renamed Layout&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="#gab9fce5ab6b88c57cc6d4bb35c8cc3c11">ACAPI_Database_ModifyDatabase</a> (&amp;dbInfo);</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga19d02f7158e60e0f8e229ae72afe3ad0" name="ga19d02f7158e60e0f8e229ae72afe3ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19d02f7158e60e0f8e229ae72afe3ad0">&#9670;&#160;</a></span>ACAPI_Database_NewDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_NewDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>child</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new independent detail, worksheet, layout or master layout database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database to be created </td></tr>
    <tr><td class="paramname">parent</td><td>The parent of the new item. </td></tr>
    <tr><td class="paramname">child</td><td>If it is nullptr, then the new item will be inserted to the first place on the actual level, otherwise the it will be inserted after the child. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - the function has completed with success.</li>
<li>APIERR_REFUSEDCMD - the function was refused to execute, because it was called inside an undo scope.</li>
<li>APIERR_NOPLAN - no floor plan window opened</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_REFUSEDPAR - the passed typeID is not <code>APIWind_DetailID</code>, <code>APIWind_WorksheetID</code>, <code>APIWind_LayoutID</code> or <code>APIWind_MasterLayoutID</code> </li>
<li>APIERR_GENERAL - could not create new database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to create a new database with the given name and ref parameters. No associated window will be opened. In case of Layout databases you must specify an existing Master Layout in masterLayoutUnId. If the database is created successfully, the unique ID of the database returns in the databaseUnId field. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">    <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>        dbInfo {};</div>
<div class="line"> </div>
<div class="line">    dbInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a3264034d02a597566b910b7055214d40">typeID</a> = <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a751397fbc2801b851b99d74aa0d329c8">APIWind_DetailID</a>;</div>
<div class="line">    GS::snuprintf (dbInfo.name, sizeof (dbInfo.name), <span class="stringliteral">&quot;Dooku %ld&quot;</span>, ++myPrefs-&gt;lastDetail);</div>
<div class="line">    GS::snuprintf (dbInfo.ref, sizeof (dbInfo.ref), <span class="stringliteral">&quot;D%02ld&quot;</span>, myPrefs-&gt;lastDetail);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="#ga19d02f7158e60e0f8e229ae72afe3ad0">ACAPI_Database_NewDatabase</a> (&amp;dbInfo) == NoError) {</div>
<div class="line">        DBPrintf (<span class="stringliteral">&quot;DatabaseControl :: The ID of the new detail database is \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line">            <a class="code hl_function" href="group___conversion.html#ga2ef6fe00edf05c416a9c8fc589374dd6">APIGuidToString</a> (dbInfo.databaseUnId.elemSetId).ToCStr ().Get ());</div>
<div class="line">    }</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga8523b06e4781b4cb32f61bb651fbc82d" name="ga8523b06e4781b4cb32f61bb651fbc82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8523b06e4781b4cb32f61bb651fbc82d">&#9670;&#160;</a></span>ACAPI_Database_RebuildCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_RebuildCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rebuilds the current database, even it's associated window is in the background. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - No open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to rebuild the current database in the background. Only the visible region of the associated window will be updated. This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="gaaf4a1b0f6a0f14a50fd5d43095982178" name="gaaf4a1b0f6a0f14a50fd5d43095982178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf4a1b0f6a0f14a50fd5d43095982178">&#9670;&#160;</a></span>ACAPI_Database_RebuildWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_RebuildWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>pValidatorInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the element and checksum list for an already added validator with given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pValidatorInfo</td><td>Contains the guid of a window which is the owner of the validator and the new element and checksum list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is a non-undoable data structure modifier function. See more details on this topic at Command Overview. </dd></dl>

</div>
</div>
<a id="gadd335e13349155e9ca1edd2b76423961" name="gadd335e13349155e9ca1edd2b76423961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd335e13349155e9ca1edd2b76423961">&#9670;&#160;</a></span>ACAPI_Database_RedrawCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_RedrawCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redraws the current database, even it's associated window is in the background. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - No open project. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to redraw the current database in the background. Only the visible region of the associated window will be updated from the update picture. </dd></dl>

</div>
</div>
<a id="ga8a8dbfbf9c7dea97112442d5bf9b6bba" name="ga8a8dbfbf9c7dea97112442d5bf9b6bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">&#9670;&#160;</a></span>ACAPI_Database_StartClippingSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_StartClippingSession </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up clipping session for newly created elements to be clipped. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NESTING - the clip session is opened for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function creates a temporary database and redirects the subsequent <a class="el" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> calls into it. The elements created during this session then can be copied into the actual element database with the <a class="el" href="#gaf960f6c2d6f00e12f4b4b0e08c175693">ACAPI_Database_DoClip</a> command applying the given clipping region and transformation. You must close the clipping session with the <a class="el" href="#ga94e767078ea9682897b962e65e33585f">ACAPI_Database_StopClippingSession</a> database function to restore the target database. Note that only the 2D drawing elements will be clipped. Construction elements, like walls, columns will NOT take part in the clipping algorithm. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___region.html">API_Region</a>  clipRegion {};</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a> element {};</div>
<div class="line">GSErrCode   err;</div>
<div class="line"> </div>
<div class="line">clipRegion.box.xMin = 0.0;</div>
<div class="line">clipRegion.box.xMax = 2.0;</div>
<div class="line">clipRegion.box.yMin = 1.54;</div>
<div class="line">clipRegion.box.yMax = 2.54;</div>
<div class="line"> </div>
<div class="line">err = <a class="code hl_function" href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">ACAPI_Database_StartClippingSession</a> ();</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="group___element.html#gad4ba2707aac702e651c6b1ec9e212baf">ACAPI_Element_Create</a> (&amp;element, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">    err = <a class="code hl_function" href="#gaf960f6c2d6f00e12f4b4b0e08c175693">ACAPI_Database_DoClip</a> (&amp;clipRegion, <span class="keyword">nullptr</span>);</div>
<div class="line">}</div>
<div class="line">err = <a class="code hl_function" href="#ga94e767078ea9682897b962e65e33585f">ACAPI_Database_StopClippingSession</a> ();</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga94e767078ea9682897b962e65e33585f" name="ga94e767078ea9682897b962e65e33585f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94e767078ea9682897b962e65e33585f">&#9670;&#160;</a></span>ACAPI_Database_StopClippingSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Database_StopClippingSession </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops clipping elements. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_GENERAL - no opened clipping session for the database </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to close the automatic clip service of the server application. Use when a clipping session has been opened by the <a class="el" href="#ga8a8dbfbf9c7dea97112442d5bf9b6bba">ACAPI_Database_StartClippingSession</a> database function, if clipping newly created elements is not necessary any more. </dd></dl>

</div>
</div>
<a id="ga5c0674a71c4f0355b193c3f965f759bf" name="ga5c0674a71c4f0355b193c3f965f759bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c0674a71c4f0355b193c3f965f759bf">&#9670;&#160;</a></span>ACAPI_Window_AddTextWindowContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_AddTextWindowContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>windowInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>content</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GS::UniString *</td>          <td class="paramname"><span class="paramname"><em>uniContent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds new lines to the content of a text window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>[in] window identification </td></tr>
    <tr><td class="paramname">content</td><td>[in] the text to append </td></tr>
    <tr><td class="paramname">uniContent</td><td>[in] the Unicode text to append </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr,</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> is referenced,</li>
<li>APIERR_WINDNOTEXIST - the referenced window does not exist </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to append new lines to a text window. It is limited to use for custom text windows only, which is opened by <a class="el" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a> in the same addon. The Report Window, Missing Library Parts Window etc cannot be addressed with this function. The string must be '\0' terminated. Line feeds should be passed with '<br  />
' characters. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>      myWD {};</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a>    origDB;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// save original</span></div>
<div class="line">        <a class="code hl_function" href="#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (&amp;origDB);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// reset content</span></div>
<div class="line">        myWD.typeID = <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a7b01491b62d0f368906024858ea41cbe">APIWind_MyTextID</a>;</div>
<div class="line">        myWD.databaseUnId.elemSetId = userRefId;</div>
<div class="line">        <a class="code hl_function" href="group___window.html#gab10425c89e3744fbe521b40193d41f9b">ACAPI_Window_ResetCurrentWindow</a> ();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// switch to floorplan</span></div>
<div class="line">        err = <a class="code hl_function" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> (&amp;planDB);</div>
<div class="line">        GS::Array&lt;API_Guid&gt; lineList;</div>
<div class="line">        <a class="code hl_function" href="group___element.html#ga1e5c492e5419647568f209003ab0571b">ACAPI_Element_GetElemList</a> (<a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a382638cdf1b28a973d3fe14a449d40ca">API_LineID</a>, &amp;lineList);</div>
<div class="line"> </div>
<div class="line">        GS::Array&lt;API_Guid&gt;  visibleLinesList;</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group___element.html#ga1e5c492e5419647568f209003ab0571b">ACAPI_Element_GetElemList</a> (<a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91a382638cdf1b28a973d3fe14a449d40ca">API_LineID</a>, &amp;visibleLinesList, APIFilt_OnVisLayer | APIFilt_OnActFloor) != NoError) {</div>
<div class="line">            <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (<span class="stringliteral">&quot;Error in ACAPI_Element_GetElemList ().&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// write content</span></div>
<div class="line">        GS::UniString   buffer = GS::UniString::Printf (<span class="stringliteral">&quot;Number of lines: %ld\n&quot;</span>, (GS::LongForStdio) lineList.GetSize ());</div>
<div class="line">        <a class="code hl_function" href="#ga5c0674a71c4f0355b193c3f965f759bf">ACAPI_Window_AddTextWindowContent</a> (&amp;myWD, <span class="keyword">nullptr</span>, &amp;buffer);</div>
<div class="line">        buffer = GS::UniString::Printf (<span class="stringliteral">&quot;Number of visible lines: %ld\n&quot;</span>, (GS::LongForStdio) visibleLinesList.GetSize ());</div>
<div class="line">        <a class="code hl_function" href="#ga5c0674a71c4f0355b193c3f965f759bf">ACAPI_Window_AddTextWindowContent</a> (&amp;myWD, <span class="keyword">nullptr</span>, &amp;buffer);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// reset original</span></div>
<div class="line">        err = <a class="code hl_function" href="#ga4792e476ab41dec96cf9036341b156d7">ACAPI_Database_ChangeCurrentDatabase</a> (&amp;origDB);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaf37f71c33c7e3609dacbfa53be7dc798" name="gaf37f71c33c7e3609dacbfa53be7dc798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf37f71c33c7e3609dacbfa53be7dc798">&#9670;&#160;</a></span>ACAPI_Window_CloseWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_CloseWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>windowInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>parameters of the window to be closed (type and reference index) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr.</li>
<li>APIERR_REFUSEDCMD - the function is called from notification level.</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> or <code>APIWind_MyDrawID</code> is requested.</li>
<li>APIERR_WINDNOTEXIST - a window with the same type and reference index is not opened.</li>
<li>APIERR_NOPLAN - no open project </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to close a previously opened custom window. It is the inverse function of <a class="el" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a>, so it is limited to close simple text or drawing windows. Such a window can be closed from the same addon, which it was opened from. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a>  windowInfo {};</div>
<div class="line"> </div>
<div class="line">windowInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a3264034d02a597566b910b7055214d40">typeID</a> = <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484ad9ff8f44e7eef1f9bbe34837d71fe21f">APIWind_MyDrawID</a>;</div>
<div class="line">windowInfo.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a8649a0835363e9d2bedb4789de0dfdd6">index</a> = 1;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group___window.html#gaf37f71c33c7e3609dacbfa53be7dc798">ACAPI_Window_CloseWindow</a> (&amp;windowInfo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga0096f6e80d8dcaed879c26a8206a1629" name="ga0096f6e80d8dcaed879c26a8206a1629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0096f6e80d8dcaed879c26a8206a1629">&#9670;&#160;</a></span>ACAPI_Window_DestroyWindowValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_DestroyWindowValidator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *</td>          <td class="paramname"><span class="paramname"><em>pGuid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an already registered validator for the given guid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pGuid</td><td>The guid of the owner window of the validator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - pValidatorInfo is nullptr</li>
<li>APIERR_MEMFULL - Not enough memory to complete the operation.</li>
<li>APIERR_GENERAL - There is no validator registered for this guid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gabdcb6c195f6a97da8871b068c4dc8bec" name="gabdcb6c195f6a97da8871b068c4dc8bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdcb6c195f6a97da8871b068c4dc8bec">&#9670;&#160;</a></span>ACAPI_Window_GetCurrentWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_GetCurrentWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___window_info.html">API_WindowInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>windowInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the identifier of the current (active) window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowInfo</td><td>[out] The identification parameters of the front window </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowInfo is nullptr.</li>
<li>APIERR_BADWINDOW - the type of the current front window is not known by the API </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to return the parameters of the front window of the server application. It can be used to identify which window your command was called on. Generally the current window and the window of the current database are the same. However you must be careful; the database dependent functions work on the current database not on the database of the current window. The interface functions work on the current window always. Note that this function fills out only the fields which are needed to identify the window type and the database behind the window. In order to retrieve the additional parameters of the database (title, name, ref, masterLayoutUnId) call the <a class="el" href="#gab49927cb5e1cf060977428312b220d8f">ACAPI_Window_GetDatabaseInfo</a> function with the databaseUnId of the current window. Use the <a class="el" href="group___window.html#ga065cae8bccda86611ff2d9d3c8a8f35c">ACAPI_Window_ChangeWindow</a> function to change the current window. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_WindowInfo</a> windowInfo {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">return</span> <a class="code hl_function" href="group___window.html#gabdcb6c195f6a97da8871b068c4dc8bec">ACAPI_Window_GetCurrentWindow</a> (&amp;windowInfo);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gab49927cb5e1cf060977428312b220d8f" name="gab49927cb5e1cf060977428312b220d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab49927cb5e1cf060977428312b220d8f">&#9670;&#160;</a></span>ACAPI_Window_GetDatabaseInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_GetDatabaseInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga38bea73a6617d9591c2035d9a37c2c34">API_DatabaseInfo</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseInfo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseId</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves information of the given database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseInfo</td><td>[in/out] parameters of the database </td></tr>
    <tr><td class="paramname">databaseId</td><td>[out] Second old identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - databaseInfo is nullptr</li>
<li>APIERR_BADDATABASE - the passed database reference is not valid </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to retrieve information about a database specified with databaseUnId. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GS::Array&lt;API_DatabaseUnId&gt; dbases;</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="#gacfa9064dd6edd45c933050d6e1ff4aac">ACAPI_Database_GetLayoutDatabases</a> (<span class="keyword">nullptr</span>, &amp;dbases);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dbUnId : dbases) {</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> dbPars {};</div>
<div class="line">        dbPars.<a class="code hl_variable" href="struct_a_p_i___window_info.html#a7c00afe57f08d9a2e956fd989f59ddcf">databaseUnId</a> = dbUnId;</div>
<div class="line"> </div>
<div class="line">        err = <a class="code hl_function" href="#gab49927cb5e1cf060977428312b220d8f">ACAPI_Window_GetDatabaseInfo</a> (&amp;dbPars);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">            <span class="keywordtype">char</span> msgStr[1024];</div>
<div class="line">            sprintf (msgStr, <span class="stringliteral">&quot;Layout database [%d] unId:(%s) title:\&quot;%s\&quot; name:\&quot;%s\&quot; ref:\&quot;%s\&quot;&quot;</span>,</div>
<div class="line">                    dbPars.index, <a class="code hl_function" href="group___conversion.html#ga2ef6fe00edf05c416a9c8fc589374dd6">APIGuidToString</a> (dbPars.databaseUnId.elemSetId).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.title).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.name).ToCStr ().Get (),</div>
<div class="line">                    GS::UniString (dbPars.ref).ToCStr ().Get ());</div>
<div class="line">            <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (msgStr, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga103373ef5c7263908e868e7c13134a05" name="ga103373ef5c7263908e868e7c13134a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga103373ef5c7263908e868e7c13134a05">&#9670;&#160;</a></span>ACAPI_Window_GetOwnWindows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_GetOwnWindows </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___window.html#ga22bf85c5f2e58820825ad9960c66a484">API_WindowTypeID</a> *</td>          <td class="paramname"><span class="paramname"><em>windowTypeID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>guid</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the ids of the opened windows in an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowTypeID</td><td>[in] TypeID of the opened windows. </td></tr>
    <tr><td class="paramname">guid</td><td>[out] An array of guids of the opened windows. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_NOPLAN - There is no open project. The operation cannot be executed without an open project.</li>
<li>APIERR_BADPARS - Incorrect windowTypeID or guid was specified. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa5312195057875d701f549e6dd30a8ee" name="gaa5312195057875d701f549e6dd30a8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5312195057875d701f549e6dd30a8ee">&#9670;&#160;</a></span>ACAPI_Window_NewWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_NewWindow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a> *</td>          <td class="paramname"><span class="paramname"><em>newWindowPars</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___window.html#ga2c0a47aaaf95e9f9b18330df14ce0d69">APICustomWindowHandlerProc</a> *</td>          <td class="paramname"><span class="paramname"><em>handlerProc</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a new window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newWindowPars</td><td>[in] parameters of the window to be created (type and reference index) </td></tr>
    <tr><td class="paramname">handlerProc</td><td>[in] Callback function to handle special (e.g. activate) events. Specify nullptr if you are not interested in these events. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - windowPars is nullptr.</li>
<li>APIERR_REFUSEDCMD - the function is called from notification level.</li>
<li>APIERR_REFUSEDPAR - not <code>APIWind_MyTextID</code> or <code>APIWind_MyDrawID</code> is requested.</li>
<li>APIERR_WINDEXIST - a window with the same type and reference index already opened.</li>
<li>APIERR_NOPLAN - no open project </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to open a new window. It is limited to opening simple text or drawing windows. The drawing window will have limited functionality and database beyond, compared to a normal 2D model window. It can have real 2D elements only (lines, arcs, etc.), construction elements like walls or beams cannot appear in this database. The database cannot be modified by the user, the input and edit functionality on these windows are disabled for the user. These type of windows are excellent to visualize the output of your algorithms, for example in case of listings. An add-on can open any number of drawing and text windows at the same time. Once an add-on opens such a window, it will be responsible for rebuilding its content when it is necessary. Archicad will post notifications for such an event. Upon receiving a notification Archicad will pass the windowPars-&gt;userRefCon parameter to the add-on to identify which window it should work on. Refer to the Notification Manager to get further details. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">        <a class="code hl_struct" href="struct_a_p_i___new_window_pars.html">API_NewWindowPars</a>   windowPars {};</div>
<div class="line">        windowPars.<a class="code hl_variable" href="struct_a_p_i___new_window_pars.html#aca57d7ae8fab7ab001617c2803d8ab9f">typeID</a> = <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484ad9ff8f44e7eef1f9bbe34837d71fe21f">APIWind_MyDrawID</a>;</div>
<div class="line">        windowPars.userRefId = guid;</div>
<div class="line"> </div>
<div class="line">        GS::UTruncate (title.ToUStr ().Get (), windowPars.wTitle, sizeof (windowPars.wTitle));</div>
<div class="line"> </div>
<div class="line">        err = <a class="code hl_function" href="group___window.html#gaa5312195057875d701f549e6dd30a8ee">ACAPI_Window_NewWindow</a> (&amp;windowPars, WindowHandlerCallBack);</div>
<div class="line">        <a class="code hl_struct" href="struct_a_p_i___window_validator_info.html">API_WindowValidatorInfo</a> validatorInfo;</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaa914c768a602867067fcb24d26fb3ef6" name="gaa914c768a602867067fcb24d26fb3ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa914c768a602867067fcb24d26fb3ef6">&#9670;&#160;</a></span>ACAPI_Window_ResetCurrentDatabase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_ResetCurrentDatabase </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the database elements of the current window and sets up a new, empty environment. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE - The current database is not a custom drawing or owned by an other addon, </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete all elements from the current database. It returns an error if the active database is not a custom window owned by the caller addon. To reset the content of the current (front) window use the <a class="el" href="group___window.html#gab10425c89e3744fbe521b40193d41f9b">ACAPI_Window_ResetCurrentWindow</a> function. </dd></dl>

</div>
</div>
<a id="gab10425c89e3744fbe521b40193d41f9b" name="gab10425c89e3744fbe521b40193d41f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab10425c89e3744fbe521b40193d41f9b">&#9670;&#160;</a></span>ACAPI_Window_ResetCurrentWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_Window_ResetCurrentWindow </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the database elements of the current window and sets up a new, empty environment. </p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADWINDOW - The current database is not a custom drawing or owned by an other addon. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to delete all elements from the current window. It returns an error if the active window is not a custom window owned by the caller addon. You can use the <a class="el" href="#gaa914c768a602867067fcb24d26fb3ef6">ACAPI_Window_ResetCurrentDatabase</a> function to reset the content of any window being in the background. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
