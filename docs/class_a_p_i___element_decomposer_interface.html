<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: API_ElementDecomposerInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_a_p_i___element_decomposer_interface.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_a_p_i___element_decomposer_interface-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">API_ElementDecomposerInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group___element.html">Element Manager</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Interface class for the element decomposition process.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;APIdefs_Callback.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5c4bb77844ed2fc418674ad7efd6fe27" id="r_a5c4bb77844ed2fc418674ad7efd6fe27"><td class="memItemLeft" align="right" valign="top">virtual GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c4bb77844ed2fc418674ad7efd6fe27">GeneratePartElement</a> (const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;guid, const <a class="el" href="class_a_p_i___elem_part_id.html">API_ElemPartId</a> &amp;partId, const <a class="el" href="union_a_p_i___element.html">API_Element</a> &amp;partElem, const <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> &amp;partMemo)=0</td></tr>
<tr class="separator:a5c4bb77844ed2fc418674ad7efd6fe27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface class for the element decomposition process. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Interface class for enumerating the planes of a Multi-plane Roof element with the <a class="el" href="group___element.html#gad91fffa41e45736ba3960f8e257c7dcb">ACAPI_Element_Decompose</a> function. An instance of a derived class of this type should be passed to the decomposer function, which then calls the GeneratePartElement virtual method of the object for each planes of the PolyRoof one by one. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// list the number of vertices of all Multi-plane Roof parts</span></div>
<div class="line"><span class="keyword">class </span>PolyRoofConverter : <span class="keyword">public</span> <a class="code hl_class" href="class_a_p_i___element_decomposer_interface.html">API_ElementDecomposerInterface</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> GSErrCode   GeneratePartElement (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid, <span class="keyword">const</span> <a class="code hl_struct" href="class_a_p_i___elem_part_id.html">API_ElemPartId</a>&amp; partId,</div>
<div class="line">                                             <span class="keyword">const</span> <a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>&amp; partElem, <span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a>&amp;);</div>
<div class="line">} polyRoofConverter;</div>
<div class="line"> </div>
<div class="line">GSErrCode PolyRoofConverter::GeneratePartElement (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid, <span class="keyword">const</span> <a class="code hl_struct" href="class_a_p_i___elem_part_id.html">API_ElemPartId</a>&amp; partId,</div>
<div class="line">                                                  <span class="keyword">const</span> <a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>&amp; partElem, <span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___element_memo.html">API_ElementMemo</a>&amp;)</div>
<div class="line">{</div>
<div class="line">    GS::UniString reportString = GS::UniString::Printf (<span class="stringliteral">&quot;Plane component [%d:%d] of Multi-plane Roof {%T} has %d vertices&quot;</span>,</div>
<div class="line">                                                        partId.<a class="code hl_variable" href="class_a_p_i___elem_part_id.html#a23d2e8f0d293962ea2b724677e270293">main</a>, partId.<a class="code hl_variable" href="class_a_p_i___elem_part_id.html#ac9167dac717b031d699b971d2e119c85">sub</a>,</div>
<div class="line">                                                        <a class="code hl_function" href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a> (guid).ToUniString ().ToPrintf (),</div>
<div class="line">                                                        partElem.<a class="code hl_variable" href="union_a_p_i___element.html#ab5adc8d5262cf466657418bc9b1703e5">roof</a>.<a class="code hl_variable" href="struct_a_p_i___roof_type.html#a31560cd5c3eb004929d2f8ba06ee6632">u</a>.planeRoof.<a class="code hl_variable" href="struct_a_p_i___plane_roof_data.html#adecfe9082b4df502b355c57907f5d2b8">poly</a>.<a class="code hl_variable" href="struct_a_p_i___polygon.html#a058aff292e4bc79a2959cd60833dceed">nCoords</a> - 1);</div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (reportString.ToCStr ().Get (), <span class="keyword">false</span>);</div>
<div class="line">    <span class="keywordflow">return</span> NoError;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> Decompose () {</div>
<div class="line">    GS::Array&lt;API_Guid&gt; roofs;</div>
<div class="line">    GSErrCode err = <a class="code hl_function" href="group___element.html#ga1e5c492e5419647568f209003ab0571b">ACAPI_Element_GetElemList</a> (<a class="code hl_enumvalue" href="group___element.html#gga2502601bf26ffc7abc608f6988da4d91ae7256fdde5e1066bc60d22225c0fc99d">API_RoofID</a>, &amp;roofs);</div>
<div class="line">    <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">        <span class="keywordflow">for</span> (GS::Array&lt;API_Guid&gt;::ConstIterator it = roofs.Enumerate (); it != <span class="keyword">nullptr</span>; ++it) {</div>
<div class="line">            err = <a class="code hl_function" href="group___element.html#gad91fffa41e45736ba3960f8e257c7dcb">ACAPI_Element_Decompose</a> (*it, &amp;polyRoofConverter);</div>
<div class="line">            <span class="keywordflow">if</span> (err == <a class="code hl_enumvalue" href="group___a_p_i_infrastructure.html#gga75cc225b8e9434d91621dd230c3013a2aa80187ab8c7f0d6fc76dafb582ba46c0">APIERR_BADPARS</a>)</div>
<div class="line">                <a class="code hl_function" href="group___dialog.html#ga75bf1a5faae2194c165ee4fcaf6afa38">ACAPI_WriteReport</a> (<span class="stringliteral">&quot;This Roof is not Multi-plane, cannot be decomposed&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5c4bb77844ed2fc418674ad7efd6fe27" name="a5c4bb77844ed2fc418674ad7efd6fe27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4bb77844ed2fc418674ad7efd6fe27">&#9670;&#160;</a></span>GeneratePartElement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual GSErrCode API_ElementDecomposerInterface::GeneratePartElement </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>guid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_a_p_i___elem_part_id.html">API_ElemPartId</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>partId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="union_a_p_i___element.html">API_Element</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>partElem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___element_memo.html">API_ElementMemo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>partMemo</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This methor is called from the <a class="el" href="group___element.html#gad91fffa41e45736ba3960f8e257c7dcb">ACAPI_Element_Decompose</a> function for all decomposed element part. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guid</td><td>[in] The guid of the original PolyRoof element. </td></tr>
    <tr><td class="paramname">partId</td><td>[in] Identifies the part element within the whole structure. In the context of Multi-plane Roofs the main member refers to the vertexId of the pivot polygon, and sub identifies the roof level. </td></tr>
    <tr><td class="paramname">partElem</td><td>[in] Data describing the element part. Currently this variable always returns <a class="el" href="struct_a_p_i___roof_type.html">API_RoofType</a> parameters with API_PlaneRoofID class. </td></tr>
    <tr><td class="paramname">partMemo</td><td>[in] Memo data of the part element. Only the relevant members are initialized, in case of plane roofs the following ones: coords, pends, parcs, vertexIDs, edgeTrims, roofEdgeTypes, sideMaterials. These memo arrays will be disposed by <a class="el" href="group___element.html#gad91fffa41e45736ba3960f8e257c7dcb">ACAPI_Element_Decompose</a> at the end of the call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
