<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 28 C++ API: Element Set</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 28 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___element_set.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Element Set</div></div>
</div><!--header-->
<div class="contents">

<p>Provides functions to create and handle element sets for any kind of purpose. You may also add custom information to the element set.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gade94d587cc1c93d2748fad41dac2b257"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___element_set.html#gade94d587cc1c93d2748fad41dac2b257">ACAPI_ElementSet_Create</a> (GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *guids, const <a class="el" href="struct_a_p_i___user_data.html">API_UserData</a> *userData, <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *setGuid)</td></tr>
<tr class="memdesc:gade94d587cc1c93d2748fad41dac2b257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups elements into an element set.  <br /></td></tr>
<tr class="separator:gade94d587cc1c93d2748fad41dac2b257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad04ea91ca4091324fae1f82383fa2080"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___element_set.html#gad04ea91ca4091324fae1f82383fa2080">ACAPI_ElementSet_Delete</a> (<a class="el" href="struct_a_p_i___guid.html">API_Guid</a> setGuid)</td></tr>
<tr class="memdesc:gad04ea91ca4091324fae1f82383fa2080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an existing element set.  <br /></td></tr>
<tr class="separator:gad04ea91ca4091324fae1f82383fa2080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffc3d8c209c4900cd16d666d31ecb4c4"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___element_set.html#gaffc3d8c209c4900cd16d666d31ecb4c4">ACAPI_ElementSet_GetData</a> (<a class="el" href="struct_a_p_i___guid.html">API_Guid</a> setGuid, GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *elemGuids, <a class="el" href="struct_a_p_i___user_data.html">API_UserData</a> *data)</td></tr>
<tr class="memdesc:gaffc3d8c209c4900cd16d666d31ecb4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of an existing element set.  <br /></td></tr>
<tr class="separator:gaffc3d8c209c4900cd16d666d31ecb4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc75c8df328bb17b13cd3004e71a1810"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___element_set.html#gadc75c8df328bb17b13cd3004e71a1810">ACAPI_ElementSet_Identify</a> (<a class="el" href="struct_a_p_i___guid.html">API_Guid</a> elemGuid, GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *setGuids)</td></tr>
<tr class="memdesc:gadc75c8df328bb17b13cd3004e71a1810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the element sets that contain a given element.  <br /></td></tr>
<tr class="separator:gadc75c8df328bb17b13cd3004e71a1810"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides functions to create and handle element sets for any kind of purpose. You may also add custom information to the element set. </p>
<h1><a class="anchor" id="autotoc_md122"></a>
Element Set Manager</h1>
<p>The Element Set Manager lets your add-on mark a group of elements to be treated as a collection.</p>
<p>For example you have a building schedule database, and you want to assign elements to the tasks they are involved in. So you can create an element set for this task. Since an element can belong to more than one task, different element sets can contain the same element as well.</p>
<p>The elements in the set are referenced by their GUIDs. The Element Set Manager service automatically updates the GUID lists at merge or paste operations, when ID collision could happen.</p>
<p>You may also attach custom user data to an element set.</p>
<p>Note that from Archicad 12 element sets are referenced with their GUIDs rather than indices, because element sets can be re-indexed during the lifetime of a project, and that could have made difficult to follow up.</p>
<h2><a class="anchor" id="autotoc_md123"></a>
Functions</h2>
<p>The Element Set Manager functions begin with the <b>ACAPI_ElementSet_</b> prefix.</p>
<ul>
<li><a class="el" href="group___element_set.html#gade94d587cc1c93d2748fad41dac2b257">ACAPI_ElementSet_Create</a> <br  />
</li>
<li><a class="el" href="group___element_set.html#gad04ea91ca4091324fae1f82383fa2080">ACAPI_ElementSet_Delete</a> <br  />
</li>
<li><a class="el" href="group___element_set.html#gaffc3d8c209c4900cd16d666d31ecb4c4">ACAPI_ElementSet_GetData</a> <br  />
</li>
<li><a class="el" href="group___element_set.html#gadc75c8df328bb17b13cd3004e71a1810">ACAPI_ElementSet_Identify</a></li>
</ul>
<p>If you would like to store data into the project file that independent from the element database (that is it does not contain element unique ID references), you can use the <a class="el" href="group___modul_data.html">ModulData Manager</a> service. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gade94d587cc1c93d2748fad41dac2b257" name="gade94d587cc1c93d2748fad41dac2b257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade94d587cc1c93d2748fad41dac2b257">&#9670;&#160;</a></span>ACAPI_ElementSet_Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementSet_Create </td>
          <td>(</td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *&#160;</td>
          <td class="paramname"><em>guids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___user_data.html">API_UserData</a> *&#160;</td>
          <td class="paramname"><em>userData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a> *&#160;</td>
          <td class="paramname"><em>setGuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Groups elements into an element set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guids</td><td>[in] Handle to the array of element GUIDs. </td></tr>
    <tr><td class="paramname">userData</td><td>[in] User data assigned to the set (optional, can be nullptr). </td></tr>
    <tr><td class="paramname">setGuid</td><td>[out] The unique ID of the newly created element set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - guids or setGuid parameter is nullptr.</li>
<li>APIERR_BADDATABASE, APIERR_NOTMINE - The function cannot operate on the current database.</li>
<li>APIERR_NEEDSUNDOSCOPE - The function must be undoable, it wasn't called from an undoable command scope.</li>
<li>APIERR_BADPLATFORMSIGN - The given platform sign is invalid.</li>
<li>APIERR_MEMFULL - There is not enough memory to complete the operation. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can use this function to create an element set for any kind of purpose. Similarly to <a class="el" href="group___element_link.html#ga8dafce884b3eee1258672cb2468a17dd">ACAPI_ElementLink_Link</a> it creates a logical record which contains a list of element GUIDs you are interested in. You may also add custom information to the element set, as you can store user data to separate elements with <a class="el" href="group___element.html#ga630457b205e585ee6c4d45dc6a98c579">ACAPI_Element_SetUserData</a>. The reference GUID of the newly created element set is returned in the setGuid parameter. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">GS::Array&lt;API_Guid&gt;  guids;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// get the guids of the first Wall, Column, Beam and Window (API_WallID + 4)</span></div>
<div class="line">    <span class="keywordflow">for</span> (USize i = API_WallID; i &lt; static_cast&lt;USize&gt; (API_WallID) + 4; i++)</div>
<div class="line">    {</div>
<div class="line">        GS::Array&lt;API_Guid&gt; elemList;</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_enumeration" href="group___element.html#ga2502601bf26ffc7abc608f6988da4d91">API_ElemTypeID</a> typeID = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="group___element.html#ga2502601bf26ffc7abc608f6988da4d91">API_ElemTypeID</a><span class="keyword">&gt;</span> (i);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group___element.html#ga1e5c492e5419647568f209003ab0571b">ACAPI_Element_GetElemList</a> (typeID, &amp;elemList, APIFilt_OnVisLayer | APIFilt_OnActFloor) == NoError) {</div>
<div class="line">            <span class="keywordflow">if</span> (!elemList.IsEmpty ())</div>
<div class="line">                guids.Push (elemList[0]);</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                guids.Push (APNULLGuid);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// write a note into the user data</span></div>
<div class="line">    <a class="code hl_struct" href="struct_a_p_i___user_data.html">API_UserData</a> userData;</div>
<div class="line">    BNZeroMemory (&amp;userData, <span class="keyword">sizeof</span> (userData));</div>
<div class="line">    userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a62da06084b806e9d4c0e5bef652bce84">dataVersion</a> = 4;</div>
<div class="line">    userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a8dba21102f8ac0edd7f1992b0f98c264">platformSign</a> = GS::Act_Platform_Sign;</div>
<div class="line">    userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a2d8ebde016598bed77025a0f2adbd50c">dataHdl</a> = BMAllocateHandle (1024, ALLOCATE_CLEAR, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a2d8ebde016598bed77025a0f2adbd50c">dataHdl</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line">        sprintf (*userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a2d8ebde016598bed77025a0f2adbd50c">dataHdl</a>, <span class="stringliteral">&quot;Original element count: 4, guids [%s,%s,%s,%s]&quot;</span>,</div>
<div class="line">                 (<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code hl_function" href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a> (guids[0]).ToUniString ().ToCStr (),</div>
<div class="line">                 (<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code hl_function" href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a> (guids[1]).ToUniString ().ToCStr (),</div>
<div class="line">                 (<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code hl_function" href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a> (guids[2]).ToUniString ().ToCStr (),</div>
<div class="line">                 (<span class="keyword">const</span> <span class="keywordtype">char</span> *) <a class="code hl_function" href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a> (guids[3]).ToUniString ().ToCStr ());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a> (<span class="stringliteral">&quot;Create Element Set&quot;</span>,</div>
<div class="line">        [&amp;] () -&gt; GSErrCode {</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a> setGuid;</div>
<div class="line">            GSErrCode err = <a class="code hl_function" href="group___element_set.html#gade94d587cc1c93d2748fad41dac2b257">ACAPI_ElementSet_Create</a> (&amp;guids, &amp;userData, &amp;setGuid);</div>
<div class="line">            <span class="keywordflow">if</span> (err != NoError) {</div>
<div class="line">                DBPRINTF (<span class="stringliteral">&quot;Create Element Set error: %d/n&quot;</span>, err);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> err;</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">    BMKillHandle (&amp;userData.<a class="code hl_variable" href="struct_a_p_i___user_data.html#a2d8ebde016598bed77025a0f2adbd50c">dataHdl</a>);</div>
<div class="ttc" id="agroup___command_html_gab7bf9e1351986b4bb6c69dab76766f1a"><div class="ttname"><a href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a></div><div class="ttdeci">GSErrCode ACAPI_CallUndoableCommand(const GS::UniString &amp;undoString, const std::function&lt; GSErrCode()&gt; &amp;command)</div><div class="ttdoc">Performs an undoable operation.</div></div>
<div class="ttc" id="agroup___conversion_html_gabf9a49fba20593a4f2bc1df3b3890aa6"><div class="ttname"><a href="group___conversion.html#gabf9a49fba20593a4f2bc1df3b3890aa6">APIGuid2GSGuid</a></div><div class="ttdeci">GS::Guid &amp; APIGuid2GSGuid(API_Guid &amp;guid)</div><div class="ttdoc">Converting from API_Guid to a GS::Guid.</div><div class="ttdef"><b>Definition:</b> API_Guid.hpp:73</div></div>
<div class="ttc" id="agroup___element_html_ga1e5c492e5419647568f209003ab0571b"><div class="ttname"><a href="group___element.html#ga1e5c492e5419647568f209003ab0571b">ACAPI_Element_GetElemList</a></div><div class="ttdeci">GSErrCode ACAPI_Element_GetElemList(const API_ElemType &amp;type, GS::Array&lt; API_Guid &gt; *elemList, API_ElemFilterFlags filterBits=APIFilt_None, const API_Guid &amp;renovationFilterGuid=APINULLGuid)</div><div class="ttdoc">Returns an array of guids of the elements of the given type.</div></div>
<div class="ttc" id="agroup___element_html_ga2502601bf26ffc7abc608f6988da4d91"><div class="ttname"><a href="group___element.html#ga2502601bf26ffc7abc608f6988da4d91">API_ElemTypeID</a></div><div class="ttdeci">API_ElemTypeID</div><div class="ttdoc">The type of an element.API_ElemType variationID APIVarId_Generic.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:74</div></div>
<div class="ttc" id="agroup___element_set_html_gade94d587cc1c93d2748fad41dac2b257"><div class="ttname"><a href="group___element_set.html#gade94d587cc1c93d2748fad41dac2b257">ACAPI_ElementSet_Create</a></div><div class="ttdeci">GSErrCode ACAPI_ElementSet_Create(GS::Array&lt; API_Guid &gt; *guids, const API_UserData *userData, API_Guid *setGuid)</div><div class="ttdoc">Groups elements into an element set.</div></div>
<div class="ttc" id="astruct_a_p_i___guid_html"><div class="ttname"><a href="struct_a_p_i___guid.html">API_Guid</a></div><div class="ttdoc">Represents a GS::Guid in the API layer.</div><div class="ttdef"><b>Definition:</b> API_Guid.hpp:46</div></div>
<div class="ttc" id="astruct_a_p_i___user_data_html"><div class="ttname"><a href="struct_a_p_i___user_data.html">API_UserData</a></div><div class="ttdoc">Custom data record attached to element sets.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:18359</div></div>
<div class="ttc" id="astruct_a_p_i___user_data_html_a2d8ebde016598bed77025a0f2adbd50c"><div class="ttname"><a href="struct_a_p_i___user_data.html#a2d8ebde016598bed77025a0f2adbd50c">API_UserData::dataHdl</a></div><div class="ttdeci">GSHandle dataHdl</div><div class="ttdoc">handle containing the user data (arbitrary size)</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:18392</div></div>
<div class="ttc" id="astruct_a_p_i___user_data_html_a62da06084b806e9d4c0e5bef652bce84"><div class="ttname"><a href="struct_a_p_i___user_data.html#a62da06084b806e9d4c0e5bef652bce84">API_UserData::dataVersion</a></div><div class="ttdeci">short dataVersion</div><div class="ttdoc">the version of the user data</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:18365</div></div>
<div class="ttc" id="astruct_a_p_i___user_data_html_a8dba21102f8ac0edd7f1992b0f98c264"><div class="ttname"><a href="struct_a_p_i___user_data.html#a8dba21102f8ac0edd7f1992b0f98c264">API_UserData::platformSign</a></div><div class="ttdeci">unsigned short platformSign</div><div class="ttdoc">the platform the data was created on; defines the byte ordering (can be GS::Win_Platform_Sign,...</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:18371</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gad04ea91ca4091324fae1f82383fa2080" name="gad04ea91ca4091324fae1f82383fa2080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad04ea91ca4091324fae1f82383fa2080">&#9670;&#160;</a></span>ACAPI_ElementSet_Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementSet_Delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a>&#160;</td>
          <td class="paramname"><em>setGuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an existing element set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setGuid</td><td>[in] The GUID of the element set to be deleted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE - The function cannot operate on the current database.</li>
<li>APIERR_NEEDSUNDOSCOPE - The function must be undoable, it wasn't called from an undoable command scope.</li>
<li>APIERR_BADID - The setGuid parameter is invalid.</li>
<li>APIERR_NOTMINE - The element set referenced by setGuid is owned by another user.</li>
<li>APIERR_DELETED - The element set is already deleted. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function deletes an element set identified by the setGuid parameter. Note that you cannot delete element sets created by another add-ons. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="comment">// delete all element sets that refer to the element (identify by guid)</span></div>
<div class="line"><span class="keywordtype">void</span> DeleteElementSets (<span class="keyword">const</span> <a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>&amp; guid)</div>
<div class="line">{</div>
<div class="line">    GS::Array&lt;API_Guid&gt; setGuids;</div>
<div class="line">    GSErrCode err = <a class="code hl_function" href="group___element_set.html#gadc75c8df328bb17b13cd3004e71a1810">ACAPI_ElementSet_Identify</a> (guid, &amp;setGuids);</div>
<div class="line">    <span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">        USize nSet = setGuids.GetSize ();</div>
<div class="line">        <a class="code hl_function" href="group___command.html#gab7bf9e1351986b4bb6c69dab76766f1a">ACAPI_CallUndoableCommand</a> (<span class="stringliteral">&quot;Delete Element Set&quot;</span>,</div>
<div class="line">            [&amp;] () -&gt; GSErrCode {</div>
<div class="line">                <span class="keywordflow">for</span> (UIndex i = 0; i &lt; nSet; i++) {</div>
<div class="line">                    err = <a class="code hl_function" href="group___element_set.html#gad04ea91ca4091324fae1f82383fa2080">ACAPI_ElementSet_Delete</a> (setGuids[i]);</div>
<div class="line">                    <span class="keywordflow">if</span> (err != NoError) {</div>
<div class="line">                        DBPRINTF (<span class="stringliteral">&quot;Delete Element Set error: %d\n&quot;</span>, err);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> NoError;</div>
<div class="line">            });</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___element_set_html_gad04ea91ca4091324fae1f82383fa2080"><div class="ttname"><a href="group___element_set.html#gad04ea91ca4091324fae1f82383fa2080">ACAPI_ElementSet_Delete</a></div><div class="ttdeci">GSErrCode ACAPI_ElementSet_Delete(API_Guid setGuid)</div><div class="ttdoc">Deletes an existing element set.</div></div>
<div class="ttc" id="agroup___element_set_html_gadc75c8df328bb17b13cd3004e71a1810"><div class="ttname"><a href="group___element_set.html#gadc75c8df328bb17b13cd3004e71a1810">ACAPI_ElementSet_Identify</a></div><div class="ttdeci">GSErrCode ACAPI_ElementSet_Identify(API_Guid elemGuid, GS::Array&lt; API_Guid &gt; *setGuids)</div><div class="ttdoc">Retrieves the element sets that contain a given element.</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaffc3d8c209c4900cd16d666d31ecb4c4" name="gaffc3d8c209c4900cd16d666d31ecb4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffc3d8c209c4900cd16d666d31ecb4c4">&#9670;&#160;</a></span>ACAPI_ElementSet_GetData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementSet_GetData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a>&#160;</td>
          <td class="paramname"><em>setGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *&#160;</td>
          <td class="paramname"><em>elemGuids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___user_data.html">API_UserData</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of an existing element set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setGuid</td><td>[in] The GUID that identifies the element set. </td></tr>
    <tr><td class="paramname">elemGuids</td><td>[out] Pointer to the array of element GUIDs. </td></tr>
    <tr><td class="paramname">data</td><td>[out] User data assigned to the set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE - The function cannot operate on the current database.</li>
<li>APIERR_BADID - The setGuid parameter is invalid.</li>
<li>APIERR_NOTMINE - The element set referenced by setGuid is owned by another user.</li>
<li>APIERR_DELETED - The element set is already deleted. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function retrieves the element GUID list and the attached user data of an element set created by <a class="el" href="group___element_set.html#gade94d587cc1c93d2748fad41dac2b257">ACAPI_ElementSet_Create</a>. Both of the output parameters are optional, can be nullptr. Remember to release the userdata.dataHdl handles when you don't need it any more. </dd></dl>

</div>
</div>
<a id="gadc75c8df328bb17b13cd3004e71a1810" name="gadc75c8df328bb17b13cd3004e71a1810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc75c8df328bb17b13cd3004e71a1810">&#9670;&#160;</a></span>ACAPI_ElementSet_Identify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_ElementSet_Identify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___guid.html">API_Guid</a>&#160;</td>
          <td class="paramname"><em>elemGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GS::Array&lt; <a class="el" href="struct_a_p_i___guid.html">API_Guid</a> &gt; *&#160;</td>
          <td class="paramname"><em>setGuids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the element sets that contain a given element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elemGuid</td><td>[in] The element GUID to search for, or GS::NULLGuid to get all element sets. </td></tr>
    <tr><td class="paramname">setGuids</td><td>[out] Array of GUIDs of the element sets that contain the element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The setGuids parameter is nullptr.</li>
<li>APIERR_BADDATABASE - The function cannot operate on the current database. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can use this function to identify the element sets that refer to the passed element. Note that element sets created by other add-ons will not be examined. You can get all element sets created by your add-on if you pass GS::NULLGuid in the guid parameter. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>