<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad 29 C++ API: Drawing Primitives</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad 29 C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___drawing_primitive.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Drawing Primitives</div></div>
</div><!--header-->
<div class="contents">

<p>Functions providing access to the geometrical primitive-level drawing data of elements.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___shape_prims_params.html">API_ShapePrimsParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shape primitive parameters.  <a href="struct_a_p_i___shape_prims_params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___prim_arc.html">API_PrimArc</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A primitive arc.  <a href="struct_a_p_i___prim_arc.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___prim_text.html">API_PrimText</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A primitive text.  <a href="struct_a_p_i___prim_text.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___prim_poly.html">API_PrimPoly</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A primitive polygon.  <a href="struct_a_p_i___prim_poly.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___prim_pict.html">API_PrimPict</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A picture inside a placed drawing.  <a href="struct_a_p_i___prim_pict.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A union containing all drawing primitives used with <a class="el" href="#ga4c54d352ecf2d4abec4bf2d8f762d4b5">ACAPI_DrawingPrimitive_ShapePrims</a> and <a class="el" href="group___library_part.html#ga44b49790fde80e887d79c8c9156681f7">ACAPI_LibraryPart_ShapePrims</a>.  <a href="union_a_p_i___prim_element.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1a5653415090468c3f5a646304ca5c8a" id="r_ga1a5653415090468c3f5a646304ca5c8a"><td class="memItemLeft" align="right" valign="top">typedef GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a>(const <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> *primElem, const void *par1, const void *par2, const void *par3)</td></tr>
<tr class="memdesc:ga1a5653415090468c3f5a646304ca5c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Primitive drawing function for elements and library parts.  <br /></td></tr>
<tr class="separator:ga1a5653415090468c3f5a646304ca5c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac591be69de7914979491bbdbb92504ee" id="r_gac591be69de7914979491bbdbb92504ee"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac591be69de7914979491bbdbb92504ee">ACAPI_DrawingPrimitive_DrawStoryControl</a> (<a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *databaseUnId, <a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *shapePrimsProc)</td></tr>
<tr class="memdesc:gac591be69de7914979491bbdbb92504ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the primitives of the Story Level Control elements on the given Section/Elevation database.  <br /></td></tr>
<tr class="separator:gac591be69de7914979491bbdbb92504ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c54d352ecf2d4abec4bf2d8f762d4b5" id="r_ga4c54d352ecf2d4abec4bf2d8f762d4b5"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4c54d352ecf2d4abec4bf2d8f762d4b5">ACAPI_DrawingPrimitive_ShapePrims</a> (const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> &amp;elemHead, <a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *shapePrimsProc)</td></tr>
<tr class="memdesc:ga4c54d352ecf2d4abec4bf2d8f762d4b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtually draws the shape of an element.  <br /></td></tr>
<tr class="separator:ga4c54d352ecf2d4abec4bf2d8f762d4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bc2eb71b68e08a372bcd757cd893a5c" id="r_ga3bc2eb71b68e08a372bcd757cd893a5c"><td class="memItemLeft" align="right" valign="top">GSErrCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3bc2eb71b68e08a372bcd757cd893a5c">ACAPI_DrawingPrimitive_ShapePrimsExt</a> (const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> &amp;elemHead, <a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *shapePrimsProc, <a class="el" href="struct_a_p_i___shape_prims_params.html">API_ShapePrimsParams</a> *shapePrimsParams)</td></tr>
<tr class="memdesc:ga3bc2eb71b68e08a372bcd757cd893a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtually draws the shape of an element.  <br /></td></tr>
<tr class="separator:ga3bc2eb71b68e08a372bcd757cd893a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions providing access to the geometrical primitive-level drawing data of elements. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1a5653415090468c3f5a646304ca5c8a" name="ga1a5653415090468c3f5a646304ca5c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a5653415090468c3f5a646304ca5c8a">&#9670;&#160;</a></span>ShapePrimsProc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef GSErrCode ShapePrimsProc(const <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> *primElem, const void *par1, const void *par2, const void *par3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Primitive drawing function for elements and library parts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primElem</td><td>The primitive element to draw; can also contain control codes. </td></tr>
    <tr><td class="paramname">par1</td><td>First parameter for drawing the element (can be nullptr). </td></tr>
    <tr><td class="paramname">par2</td><td>Second parameter for drawing the element (can be nullptr). </td></tr>
    <tr><td class="paramname">par3</td><td>Third parameter for drawing the element (can be nullptr). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The element was drawn successfully.</li>
<li>APINOTIFY_NODATA - Supress hierarchical decomposition.</li>
<li>APINOTIFY_OWN_MEMORY_HANDLER - Tells the API that your add-on took over the ownership of the passed coords, pends and parcs array. For lines, polylines and polygons only.</li>
<li>APIERR_GENERAL - Any user-defined error can be returned. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to draw the primitive elements. As such, it plugs into the server application's drawing routines. It can also be used to save the contents of a plan into an external file. <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_PrimTypeID   </th><th class="markdownTableHeadNone">par1   </th><th class="markdownTableHeadNone">par2   </th><th class="markdownTableHeadNone">par3    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimPointID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimLineID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimArcID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimTextID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">(unsigned short*) pointer to the text (UniCode string) or nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimPLineID   </td><td class="markdownTableBodyNone">(API_Coord*) coordinates   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">(API_PolyArc*) arcs    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimTriID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimPolyID   </td><td class="markdownTableBodyNone">(API_Coord*) coordinates   </td><td class="markdownTableBodyNone">(Int32*) subpolygon endpoints   </td><td class="markdownTableBodyNone">(API_PolyArc*) arcs    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_BegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_HatchBorderBegID   </td><td class="markdownTableBodyNone">(API_PrimHatchBorder*) border   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_HatchBorderEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_HatchLinesBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_HatchLinesEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_HoledimLinesBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_HoledimLinesEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_ArrowBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_ArrowEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_ElementRefID   </td><td class="markdownTableBodyNone">(API_PrimElemRef*) reference   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_EndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_PlacedBorderBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_PlacedBorderEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_TextBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_TextEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_BackgroundFillBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_BackgroundFillEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_PrimCtrl_FrameBegID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_PrimCtrl_FrameEndID   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td><td class="markdownTableBodyNone">nullptr   </td></tr>
</table>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac591be69de7914979491bbdbb92504ee" name="gac591be69de7914979491bbdbb92504ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac591be69de7914979491bbdbb92504ee">&#9670;&#160;</a></span>ACAPI_DrawingPrimitive_DrawStoryControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_DrawingPrimitive_DrawStoryControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___database_un_id.html">API_DatabaseUnId</a> *</td>          <td class="paramname"><span class="paramname"><em>databaseUnId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *</td>          <td class="paramname"><span class="paramname"><em>shapePrimsProc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the primitives of the Story Level Control elements on the given Section/Elevation database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseUnId</td><td>[in] The unique ID of the database </td></tr>
    <tr><td class="paramname">shapePrimsProc</td><td>[in] The function to be called to process the element primitives </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed dbUnID or the shapePrimsProc parameter nullptr, </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Use this function to export the primitives of the Story Level Control of a Section/Elevation database. Similarly to <a class="el" href="#ga4c54d352ecf2d4abec4bf2d8f762d4b5">ACAPI_DrawingPrimitive_ShapePrims</a> and <a class="el" href="group___library_part.html#ga44b49790fde80e887d79c8c9156681f7">ACAPI_LibraryPart_ShapePrims</a> it calls back the passed handler function with each drawing primitive part of the Story Level Handler. Since the Story Level Handler is not a separate element type in API, it is referenced by the database unique ID of the Section/Elevation the Story Levels are displayed on. The settings of the Story Level lines and Markers can be accessed via the <a class="el" href="struct_a_p_i___cut_plane_type.html">API_CutPlaneType</a> structure. Note that the primitives are sent only when the value of <code>API_StoryHandleAppearance</code> is <code>APICutPl_SHAAll</code> in the settings of the Cut Plane element. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___window_info.html">API_DatabaseInfo</a> databaseInfo {};</div>
<div class="line"> </div>
<div class="line">GSErrCode err = <a class="code hl_function" href="group___database.html#gaf1d24c9fb822b1d7f5c0b578c7cecf9c">ACAPI_Database_GetCurrentDatabase</a> (&amp;databaseInfo);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (err == NoError &amp;&amp; databaseInfo.typeID == <a class="code hl_enumvalue" href="group___window.html#gga22bf85c5f2e58820825ad9960c66a484a6568cc54ad225b9bb6c1b9bffb9c516c">APIWind_SectionID</a>)</div>
<div class="line">    <a class="code hl_function" href="#gac591be69de7914979491bbdbb92504ee">ACAPI_DrawingPrimitive_DrawStoryControl</a> (&amp;(databaseInfo.databaseUnId), MyDrawShapePrimsProc);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga4c54d352ecf2d4abec4bf2d8f762d4b5" name="ga4c54d352ecf2d4abec4bf2d8f762d4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c54d352ecf2d4abec4bf2d8f762d4b5">&#9670;&#160;</a></span>ACAPI_DrawingPrimitive_ShapePrims()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_DrawingPrimitive_ShapePrims </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>elemHead</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *</td>          <td class="paramname"><span class="paramname"><em>shapePrimsProc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtually draws the shape of an element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elemHead</td><td>[in] Identifies the element to be processed. </td></tr>
    <tr><td class="paramname">shapePrimsProc</td><td>[in] The function to be called to process the element primitives. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - The passed parameter is nullptr; element</li>
<li>APIERR_BADDATABASE - Not the appropriate database was open for the operation. For example you tried to access a 2D element while the 3D window - and also the 3D database - was active.</li>
<li>APIERR_BADID - The element type is invalid, </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function draws the element from drawing primitives (see <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a>), using the shapePrimsProc function. The <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> (the first parameter of ShapePrimsProc) can also contain a control code; these codes mark the beginning and the end of the drawing of sub-parts. It can also contain information on connected elements (e.g. for walls, you get the indices of windows and doors in that wall). These drawing procedures can not be nested. To enable Renovation Overrides or Graphical Overrides see <a class="el" href="group___graphical_override.html#ga9740bd2ca97068f106937fff71cbd170">ACAPI_GraphicalOverride_EnableRenovationOverride</a> and <a class="el" href="group___graphical_override.html#ga0b5ac45cd18de0ad4010114aa1cd6563">ACAPI_GraphicalOverride_EnableVisualOverride</a>. The <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> (the first parameter of ShapePrimsProc) can also contain a control code; these codes mark the beginning and the end of the drawing of sub-parts. It can also contain information on connected elements (e.g. for walls, you get the indices of windows and doors in that wall). These drawing procedures can not be nested. To enable Renovation Overrides or Graphical Overrides see <a class="el" href="group___graphical_override.html#ga9740bd2ca97068f106937fff71cbd170">ACAPI_GraphicalOverride_EnableRenovationOverride</a> and <a class="el" href="group___graphical_override.html#ga0b5ac45cd18de0ad4010114aa1cd6563">ACAPI_GraphicalOverride_EnableVisualOverride</a>. </dd></dl>
<dl class="section user"><dt>Example</dt><dd>The following example shows the usage of ACAPI_DrawingPrimitive_ShapePrims and a sample ShapePrimsProc functions <div class="fragment"><div class="line"><span class="keyword">static</span> GSErrCode Own_DrawElementPrim (<span class="keyword">const</span> <a class="code hl_union" href="union_a_p_i___prim_element.html">API_PrimElement</a> *primElem,</div>
<div class="line">                                      <span class="keyword">const</span> <span class="keywordtype">void</span> *par1,</div>
<div class="line">                                      <span class="keyword">const</span> <span class="keywordtype">void</span> *par2,</div>
<div class="line">                                      <span class="keyword">const</span> <span class="keywordtype">void</span> *par3)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span> (primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#a4d0ad6e09628decac4189ee5dccdde23">header</a>.<a class="code hl_variable" href="struct_a_p_i___prim___head.html#a3af61139c18dc466361143c5883f5391">typeID</a>) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0ae4b2573679f5528e2cea6ea492cb8bab">API_PrimPointID</a>:   Own_DrawPrimPoint (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#a052d985a49ab74dade41173f80ca71c6">point</a>); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a9c163111a13de58499b8a0f22ec2c93a">API_PrimLineID</a>:    Own_DrawPrimLine (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#abca5240880d935318b9b79cc6d48027b">line</a>); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a8194aefc05488079c629d044190897a6">API_PrimArcID</a>:     Own_DrawPrimArc (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#ad568db1673db93f8d19fabfc725a3dee">arc</a>); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0ae21c7bedffa8afc6bf386e794e037684">API_PrimTextID</a>:    Own_DrawPrimText (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#a5bd678824bd0e516043b47add3385a6d">text</a>,par1); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0aa2d1b68d004c7f20e75057a94d1ae6e5">API_PrimPLineID</a>:   Own_DrawPrimPLine (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#aefb0b317cecc5d790cf10362e8801ea4">pline</a>, par1, par2); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a59314e9094eed1c308ea2cc0518e482d">API_PrimTriID</a>:     Own_DrawPrimTri (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#acc9cf805fadfe479e2cc626a4f252e6c">tri</a>); <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0ab0da3538c9300cfa0820bf5bc4e95c2c">API_PrimPolyID</a>:    Own_DrawPrimPoly (&amp;primElem-&gt;<a class="code hl_variable" href="union_a_p_i___prim_element.html#ab58a89b7758cf05551d7475614c89b4d">poly</a>, par1, par2, par3); <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a921a9f5e69a07ddde0cee44eb7d03d31">API_PrimCtrl_HatchBorderBegID</a>: gHatchBrdMode = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0aa7530508273213c89416104c91ffcc72">API_PrimCtrl_HatchBorderEndID</a>: gHatchBrdMode = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a9d885e8ea3be04af7c264c0f7823d211">API_PrimCtrl_HatchLinesBegID</a>:  gHatchLinesMode = <span class="keyword">true</span>; <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group___library_part.html#gga4bb639c931b1e4f27b42b6415db128f0a880ea710a7f91a22c9e5edb74539f3d0">API_PrimCtrl_HatchLinesEndID</a>:  gHatchLinesMode = <span class="keyword">false</span>; <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> NoError;</div>
<div class="line">}</div>
</div><!-- fragment --> In the main program <div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> header;</div>
<div class="line"><span class="keywordflow">for</span> (GS::Array&lt;API_Guid&gt;::ConstIterator it = elemList.Enumerate (); it != <span class="keyword">nullptr</span> &amp;&amp; !lastErr; ++it) {</div>
<div class="line">    header = {};</div>
<div class="line">    header.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae1c055907c06039af552a4e42a9a4e84">guid</a> = *it;</div>
<div class="line">    lastErr = <a class="code hl_function" href="#ga4c54d352ecf2d4abec4bf2d8f762d4b5">ACAPI_DrawingPrimitive_ShapePrims</a> (header, Own_DrawElementPrim);</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga3bc2eb71b68e08a372bcd757cd893a5c" name="ga3bc2eb71b68e08a372bcd757cd893a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bc2eb71b68e08a372bcd757cd893a5c">&#9670;&#160;</a></span>ACAPI_DrawingPrimitive_ShapePrimsExt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode ACAPI_DrawingPrimitive_ShapePrimsExt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_p_i___elem___head.html">API_Elem_Head</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>elemHead</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1a5653415090468c3f5a646304ca5c8a">ShapePrimsProc</a> *</td>          <td class="paramname"><span class="paramname"><em>shapePrimsProc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___shape_prims_params.html">API_ShapePrimsParams</a> *</td>          <td class="paramname"><span class="paramname"><em>shapePrimsParams</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtually draws the shape of an element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">elemHead</td><td>[in] Identifies the element to be processed. </td></tr>
    <tr><td class="paramname">shapePrimsProc</td><td>[in] The function to be called to process the element primitives. </td></tr>
    <tr><td class="paramname">shapePrimsParams</td><td>[in] Shape primitives parameters structure to process the shape primitives by. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADDATABASE - Not the appropriate database was open for the operation. For example you tried to access a 2D element while the 3D window - and also the 3D database - was active.</li>
<li>APIERR_BADID - The element type is invalid, or the element guid is invalid, or the element type is not supported by the server application</li>
<li>APIERR_REFUSEDCMD - This error code is returned when the element specified by the guid parameter is not on the current floor.</li>
<li>APIERR_REFUSEDPAR - Elements that cannot be drawn from primitives were specified in the type parameter, for example <code>API_CamSetID</code> in Archicad. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function draws the element from drawing primitives (see <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a>), using the shapePrimsProc function. The <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> (the first parameter of ShapePrimsProc) can also contain a control code; these codes mark the beginning and the end of the drawing of sub-parts. It can also contain information on connected elements (e.g. for walls, you get the indices of windows and doors in that wall). These drawing procedures can not be nested. To enable Renovation Overrides or Graphical Overrides see <a class="el" href="group___graphical_override.html#ga9740bd2ca97068f106937fff71cbd170">ACAPI_GraphicalOverride_EnableRenovationOverride</a> and <a class="el" href="group___graphical_override.html#ga0b5ac45cd18de0ad4010114aa1cd6563">ACAPI_GraphicalOverride_EnableVisualOverride</a>. The <a class="el" href="union_a_p_i___prim_element.html">API_PrimElement</a> (the first parameter of ShapePrimsProc) can also contain a control code; these codes mark the beginning and the end of the drawing of sub-parts. It can also contain information on connected elements (e.g. for walls, you get the indices of windows and doors in that wall). These drawing procedures can not be nested. To enable Renovation Overrides or Graphical Overrides see <a class="el" href="group___graphical_override.html#ga9740bd2ca97068f106937fff71cbd170">ACAPI_GraphicalOverride_EnableRenovationOverride</a> and <a class="el" href="group___graphical_override.html#ga0b5ac45cd18de0ad4010114aa1cd6563">ACAPI_GraphicalOverride_EnableVisualOverride</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
