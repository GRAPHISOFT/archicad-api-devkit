<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Archicad C++ API" />
<meta property="og:image" content="logo.svg" />
<meta property="og:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<meta property="og:url" content="https://archicadapi.graphisoft.com/documentation/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="logo.svg" />
<meta name="twitter:title" content="Archicad C++ API" />
<meta name="twitter:description" content="Archicad Development Kit Documentation, best practices, example codes and information hub." />
<!-- END twitter metadata -->
<title>Archicad C++ API: Toolbox</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="https://fonts.cdnfonts.com/css/proxima-nova-2" rel="stylesheet">
<link rel="icon" href="logo.svg" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Archicad C++ API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___toolbox.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Toolbox</div></div>
</div><!--header-->
<div class="contents">

<p>Functions related to the manipulation of, and integrating into the Toolbox.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains information on the current state of the toolbox.  <a href="struct_a_p_i___tool_box_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae807924160c39a4fde11831e18a57b40"><td class="memItemLeft" align="right" valign="top">GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___toolbox.html#gae807924160c39a4fde11831e18a57b40">ACAPI_Toolbox_GetToolBoxMode</a> (<a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *toolBoxItem)</td></tr>
<tr class="memdesc:gae807924160c39a4fde11831e18a57b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual toolbox mode.  <br /></td></tr>
<tr class="separator:gae807924160c39a4fde11831e18a57b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf78cef71a38175de0c792abeff468641"><td class="memItemLeft" align="right" valign="top">GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___toolbox.html#gaf78cef71a38175de0c792abeff468641">ACAPI_Toolbox_SetToolBoxMode</a> (<a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *toolBoxItem)</td></tr>
<tr class="memdesc:gaf78cef71a38175de0c792abeff468641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the actual toolbox mode.  <br /></td></tr>
<tr class="separator:gaf78cef71a38175de0c792abeff468641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fb702d607a8fe481879650e510c835c"><td class="memItemLeft" align="right" valign="top">GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___toolbox.html#ga6fb702d607a8fe481879650e510c835c">ACAPI_Toolbox_GetToolBoxInfo</a> (<a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a> *toolBoxInfo, bool enableHidden=false)</td></tr>
<tr class="memdesc:ga6fb702d607a8fe481879650e510c835c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information on the current state of the toolbox.  <br /></td></tr>
<tr class="separator:ga6fb702d607a8fe481879650e510c835c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9797b376f95b57c4faed2ffdfaea7eb6"><td class="memItemLeft" align="right" valign="top">GSErrCode __ACENV_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___toolbox.html#ga9797b376f95b57c4faed2ffdfaea7eb6">ACAPI_LibraryPart_RegisterSubtype</a> (GSType signature, short templateFileResID, bool transparentNode, short stringResID, short smallIconResID, short largeIconResID, API_TBoxGroup toolGroupId, API_TBoxEnabled enableFlags, short defaultsResID)</td></tr>
<tr class="memdesc:ga9797b376f95b57c4faed2ffdfaea7eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new library part subtype.  <br /></td></tr>
<tr class="separator:ga9797b376f95b57c4faed2ffdfaea7eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions related to the manipulation of, and integrating into the Toolbox. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9797b376f95b57c4faed2ffdfaea7eb6" name="ga9797b376f95b57c4faed2ffdfaea7eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9797b376f95b57c4faed2ffdfaea7eb6">&#9670;&#160;</a></span>ACAPI_LibraryPart_RegisterSubtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode __ACENV_CALL ACAPI_LibraryPart_RegisterSubtype </td>
          <td>(</td>
          <td class="paramtype">GSType&#160;</td>
          <td class="paramname"><em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>templateFileResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>transparentNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>stringResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>smallIconResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>largeIconResID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">API_TBoxGroup&#160;</td>
          <td class="paramname"><em>toolGroupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">API_TBoxEnabled&#160;</td>
          <td class="paramname"><em>enableFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>defaultsResID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new library part subtype. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>[in] A four-character identifier of this library part subtype </td></tr>
    <tr><td class="paramname">templateFileResID</td><td>[in] 'FILE' resource ID of the subtype template library part compiled into the add-on </td></tr>
    <tr><td class="paramname">transparentNode</td><td>[in] Objects of this subtype can be shown on higher ancestry levels as well </td></tr>
    <tr><td class="paramname">stringResID</td><td>[in] Resource ID of the library part subtype description string </td></tr>
    <tr><td class="paramname">smallIconResID</td><td>[in] Resource ID of the small-sized toolbox (toolbar) item icon </td></tr>
    <tr><td class="paramname">largeIconResID</td><td>[in] Resource ID of the large-sized toolbox item icon </td></tr>
    <tr><td class="paramname">toolGroupId</td><td>[in] Toolbox item position </td></tr>
    <tr><td class="paramname">enableFlags</td><td>[in] Enable or disable the subtype tool depending on the active window </td></tr>
    <tr><td class="paramname">defaultsResID</td><td>[in] ID of the 'ACP0' resource that contains the element default values for this subtype </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>APIERR_BADPARS - templateFileResID refers to an invalid 'FILE' resource or the built-in library part cannot be accepted as subtype template.</li>
<li>NoError - The function has completed with success. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function registers a new library part subtype. In order to have an own element subtype the add-on must contain a built-in library part in its reource module. This library part will be loaded into the active libraries, and become a new node in the ancestry tree. The new element type will be identified with the signature identifier chosen by the add-on's writer. The signature should be unique in order to avoid collisions. You may pass 0 in the signature parameter if you do not need a new element type but a single subtype node. The subtype can appear in the toolbox as an external tool, and also on the Windows toolbar. In this case you must pass two valid icon resource IDs in the smallIconResID and the largeIconResID parameters. The size of the icons should be 16x16 and 30x21 pixels respectively. You can specify the position of the subtype item inserted into the toolbox with the toolGroupId parameter as follows: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_TBoxGroup   </th><th class="markdownTableHeadNone">Meaning    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TBoxGroup_Root   </td><td class="markdownTableBodyNone">The subtype tool item will be appended to the group of model element tools    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TBoxGroup_Objects   </td><td class="markdownTableBodyNone">The subtype tool item will be added to the object tools    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TBoxGroup_Openings   </td><td class="markdownTableBodyNone">The subtype tool item will be added to the window/door tools   </td></tr>
</table>
</dd></dl>
<p>You can control the availability of the subtype tool in the toolbox by setting the <code>enableFlags</code> bits: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API_TBoxEnabled   </th><th class="markdownTableHeadNone">The subtype tool is enabled    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_FloorPlan   </td><td class="markdownTableBodyNone">on floor plan window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_ModelSection   </td><td class="markdownTableBodyNone">on model type section and elevation windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_DrawingSection   </td><td class="markdownTableBodyNone">on drawing type section and elevation windows    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_3D   </td><td class="markdownTableBodyNone">on 3D model window    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_Detail   </td><td class="markdownTableBodyNone">on detail window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_Layout   </td><td class="markdownTableBodyNone">on layout and master layout windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_Worksheet   </td><td class="markdownTableBodyNone">on worksheet window    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">API_TBoxEnabled_ModelInteriorElevation   </td><td class="markdownTableBodyNone">on model type interior elevation windows    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">API_TBoxEnabled_DrawingInteriorElevation   </td><td class="markdownTableBodyNone">on drawing type interior elevation windows   </td></tr>
</table>
<p>If you want to register your subtype tool without appearing in the toolbox, pass 0 for both the <code>smallIconResID</code> and the <code>largeIconResID</code> parameters. If you register a subtype tool you should define the factory default values for this element type in an 'ACP0' resource. The element default will be initialized with these parameters when no preferences data is stored. The structure of this resource is shown at the example below. The resource ID should be passed in the defaultsResID parameter. Learn more about this topic at the general description of Library Part Subtypes. </p><dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Resources in the .GRC file:</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga6fb702d607a8fe481879650e510c835c" name="ga6fb702d607a8fe481879650e510c835c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fb702d607a8fe481879650e510c835c">&#9670;&#160;</a></span>ACAPI_Toolbox_GetToolBoxInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode __ACENV_CALL ACAPI_Toolbox_GetToolBoxInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_info.html">API_ToolBoxInfo</a> *&#160;</td>
          <td class="paramname"><em>toolBoxInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableHidden</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information on the current state of the toolbox. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxInfo</td><td>[out] Miscellaneous information on the toolbox. </td></tr>
    <tr><td class="paramname">enableHidden</td><td>[in] Include hidden tools from the toolbox as well. This parameter is optional; if you pass nullptr in the second parameter, it defaults to false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function has completed with success.</li>
<li>APIERR_BADPARS - tboxInfo is nullptr.</li>
<li>APIERR_MEMFULL - Low memory condition. </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>You can query the current state of the toolbox with this function. It returns information on the different installed items (external tools, too), and the active toolbox item (the active tool). The enableHidden flag tells Archicad to include hidden toolbox items as well. These are the tools which don't have any icon in the toolbox, though using them puts Archicad into a state which works as if you chose one of the 'real' tools. A good example of this is the Slab Accessory. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">ACAPI_Environment (APIEnv_GetToolBoxInfoID, &amp;toolBoxInfo, (<span class="keywordtype">void</span> *) (GS::UIntPtr) <span class="keyword">true</span>);</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gae807924160c39a4fde11831e18a57b40" name="gae807924160c39a4fde11831e18a57b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae807924160c39a4fde11831e18a57b40">&#9670;&#160;</a></span>ACAPI_Toolbox_GetToolBoxMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode __ACENV_CALL ACAPI_Toolbox_GetToolBoxMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *&#160;</td>
          <td class="paramname"><em>toolBoxItem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual toolbox mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxItem</td><td>[out] Current toolbox mode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function completed with success.</li>
<li>APIERR_BADPARS - toolBoxItem is nullptr </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to get the current toolbox mode. The mode is returned in the type field. For those types which can have more toolbox modes (ID_Wind, ID_Door, ID_Symb, ID_Light), the owner ID of the tool is returned, too. If the current toolbox mode has no element type associated with (e.g. arrow mode and marquee mode), the typeID will be <code>API_ZombieElemID</code>. To change the active toolbox item use the <a class="el" href="group___toolbox.html#gaf78cef71a38175de0c792abeff468641">ACAPI_Toolbox_SetToolBoxMode</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> tboxInfo;</div>
<div class="line">BNZeroMemory (&amp;tboxInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a>));</div>
<div class="line"> </div>
<div class="line">GSErrCode err = ACAPI_Environment (APIEnv_GetToolBoxModeID, &amp;tboxInfo, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    GS::UniString elemName = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line">    <a class="code hl_function" href="group___element.html#ga4b0af43304ab2e110b78e2d6adc3b970">ACAPI_Element_GetElemTypeName</a> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>, amp;elemName);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> buffer[256];</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_ZombieElemID) {</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: Arrow or Marquee&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a> == APIVarId_Generic) {</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: %s&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*) elemName.ToCStr ());</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordtype">char</span> *p = (<span class="keywordtype">char</span> *) &amp;tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a>;</div>
<div class="line">        sprintf (buffer, <span class="stringliteral">&quot;Previous toolbox mode: %s  variation \&quot;%c%c%c%c\&quot;&quot;</span>,</div>
<div class="line">                    (<span class="keyword">const</span> <span class="keywordtype">char</span>*) elemName.ToCStr (), p[0], p[1], p[2], p[3]);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___dialog.html#ga81bfb6abb734d503d09c3b51dc5fac1a">ACAPI_WriteReport</a> (buffer, <span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___dialog_html_ga81bfb6abb734d503d09c3b51dc5fac1a"><div class="ttname"><a href="group___dialog.html#ga81bfb6abb734d503d09c3b51dc5fac1a">ACAPI_WriteReport</a></div><div class="ttdeci">void __ACENV_CALL ACAPI_WriteReport(const GS::UniString &amp;format, bool withDial,...)</div><div class="ttdoc">Writes a report string into the Report Windowot into a custom alert window.</div></div>
<div class="ttc" id="agroup___element_html_ga4b0af43304ab2e110b78e2d6adc3b970"><div class="ttname"><a href="group___element.html#ga4b0af43304ab2e110b78e2d6adc3b970">ACAPI_Element_GetElemTypeName</a></div><div class="ttdeci">GSErrCode __ACENV_CALL ACAPI_Element_GetElemTypeName(const API_ElemType &amp;elemType, GS::UniString &amp;elemName)</div><div class="ttdoc">Returns the localized name of the built-in element types.</div></div>
<div class="ttc" id="astruct_a_p_i___elem_type_html_a387c2a8ef40369182827a38050b1b21f"><div class="ttname"><a href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">API_ElemType::variationID</a></div><div class="ttdeci">API_ElemVariationID variationID</div><div class="ttdoc">Subcategory of the element (see API_ElemVariationID).</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:212</div></div>
<div class="ttc" id="astruct_a_p_i___tool_box_item_html"><div class="ttname"><a href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a></div><div class="ttdoc">Data of the active toolbox mode.</div><div class="ttdef"><b>Definition:</b> APIdefs_Environment.h:654</div></div>
<div class="ttc" id="astruct_a_p_i___tool_box_item_html_ad5fc005b0cb932a9a7ad6e7aa901b50a"><div class="ttname"><a href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">API_ToolBoxItem::type</a></div><div class="ttdeci">API_ElemType type</div><div class="ttdoc">Toolbox item element type.</div><div class="ttdef"><b>Definition:</b> APIdefs_Environment.h:659</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="gaf78cef71a38175de0c792abeff468641" name="gaf78cef71a38175de0c792abeff468641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf78cef71a38175de0c792abeff468641">&#9670;&#160;</a></span>ACAPI_Toolbox_SetToolBoxMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSErrCode __ACENV_CALL ACAPI_Toolbox_SetToolBoxMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> *&#160;</td>
          <td class="paramname"><em>toolBoxItem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the actual toolbox mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">toolBoxItem</td><td>[in] Toolbox mode to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NoError - The function completed with success.</li>
<li>APIERR_BADPARS - The variationID of the library part type does not match to the toolbox mode type</li>
<li>APIERR_BADID - toolBoxItem-&gt;type contains invalid data </li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is used to change the current toolbox mode. The mode is specified by the element type ID. For those types which can have more toolbox modes (ID_Wind, ID_Door, ID_Symb, ID_Light), the variationID of the tool should also be supplied. For <code>API_ZombieElemID</code> or an invalid element type ID specification the arrow mode will be set. Note that the function does not switch the toolbox immediately, but posts an event into the application queue. The command will be executed only when the application events are processed. To get the active toolbox mode use the <a class="el" href="group___toolbox.html#gae807924160c39a4fde11831e18a57b40">ACAPI_Toolbox_GetToolBoxMode</a> function. </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_p_i___guid.html">API_Guid</a>        guid;</div>
<div class="line"><a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>     element;</div>
<div class="line"><a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a> tboxInfo;</div>
<div class="line">GSErrCode       err;</div>
<div class="line"> </div>
<div class="line">BNZeroMemory (&amp;tboxInfo, <span class="keyword">sizeof</span> (<a class="code hl_struct" href="struct_a_p_i___tool_box_item.html">API_ToolBoxItem</a>));</div>
<div class="line">tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> = API_ZombieElemID;</div>
<div class="line"><span class="keywordflow">if</span> (ClickAnElem (<span class="stringliteral">&quot;Click an element to set toolbox mode&quot;</span>, API_ZombieElemID, <span class="keyword">nullptr</span>, &amp;tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>, &amp;guid, <span class="keyword">nullptr</span>)) {</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_ObjectID || tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_LampID ||</div>
<div class="line">        tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_WindowID || tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_DoorID)</div>
<div class="line">    {</div>
<div class="line">        BNZeroMemory (&amp;element, <span class="keyword">sizeof</span> (<a class="code hl_union" href="union_a_p_i___element.html">API_Element</a>));</div>
<div class="line">        element.<a class="code hl_variable" href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae52dd2364341333896cae3f4ebfd2f52">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a9f30f373ae0f50a8ae87eb6cf5a384d2">typeID</a>   = tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a9f30f373ae0f50a8ae87eb6cf5a384d2">typeID</a>;</div>
<div class="line">        element.<a class="code hl_variable" href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#aa3cef1d08910014c1546b66c0bf9c05a">guid</a>          = guid;</div>
<div class="line">        err = <a class="code hl_function" href="group___element.html#ga224a37bcf9e5d6031a4eb62b85e5c500">ACAPI_Element_Get</a> (&amp;element);</div>
<div class="line">        <span class="keywordflow">if</span> (err == NoError)</div>
<div class="line">            tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a> = element.<a class="code hl_variable" href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">header</a>.<a class="code hl_variable" href="struct_a_p_i___elem___head.html#ae52dd2364341333896cae3f4ebfd2f52">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">err = ACAPI_Environment (APIEnv_SetToolBoxModeID, &amp;tboxInfo, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="keywordflow">if</span> (err == NoError) {</div>
<div class="line">    <span class="keywordflow">if</span> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a> == API_ZombieElemID)</div>
<div class="line">        WriteReport (<span class="stringliteral">&quot;Current toolbox mode: Arrow&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">if</span> (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a> == APIVarId_Generic) {</div>
<div class="line">            WriteReport (<span class="stringliteral">&quot;Current toolbox mode: %s&quot;</span>, ElemID_To_Name (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>));</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordtype">char</span> *p = (<span class="keywordtype">char</span> *) &amp;tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>.<a class="code hl_variable" href="struct_a_p_i___elem_type.html#a387c2a8ef40369182827a38050b1b21f">variationID</a>;</div>
<div class="line">            WriteReport (<span class="stringliteral">&quot;Current toolbox mode: %s  External \&quot;%c%c%c%c\&quot;&quot;</span>, ElemID_To_Name (tboxInfo.<a class="code hl_variable" href="struct_a_p_i___tool_box_item.html#ad5fc005b0cb932a9a7ad6e7aa901b50a">type</a>), p[0], p[1], p[2], p[3]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup___element_html_ga224a37bcf9e5d6031a4eb62b85e5c500"><div class="ttname"><a href="group___element.html#ga224a37bcf9e5d6031a4eb62b85e5c500">ACAPI_Element_Get</a></div><div class="ttdeci">GSErrCode __ACENV_CALL ACAPI_Element_Get(API_Element *element, UInt32 mask=0)</div><div class="ttdoc">Returns information on the main parameters of a given element.</div></div>
<div class="ttc" id="astruct_a_p_i___elem___head_html_aa3cef1d08910014c1546b66c0bf9c05a"><div class="ttname"><a href="struct_a_p_i___elem___head.html#aa3cef1d08910014c1546b66c0bf9c05a">API_Elem_Head::guid</a></div><div class="ttdeci">API_Guid guid</div><div class="ttdoc">The globally unique identifier of the element. It is type-independent, and guaranteed to be globally ...</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:375</div></div>
<div class="ttc" id="astruct_a_p_i___elem___head_html_ae52dd2364341333896cae3f4ebfd2f52"><div class="ttname"><a href="struct_a_p_i___elem___head.html#ae52dd2364341333896cae3f4ebfd2f52">API_Elem_Head::type</a></div><div class="ttdeci">API_ElemType type</div><div class="ttdoc">The type of the element.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:367</div></div>
<div class="ttc" id="astruct_a_p_i___elem_type_html_a9f30f373ae0f50a8ae87eb6cf5a384d2"><div class="ttname"><a href="struct_a_p_i___elem_type.html#a9f30f373ae0f50a8ae87eb6cf5a384d2">API_ElemType::typeID</a></div><div class="ttdeci">API_ElemTypeID typeID</div><div class="ttdoc">The typeID of the element (see API_ElemTypeID).</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:207</div></div>
<div class="ttc" id="astruct_a_p_i___guid_html"><div class="ttname"><a href="struct_a_p_i___guid.html">API_Guid</a></div><div class="ttdoc">Represents a GS::Guid in the API layer.</div><div class="ttdef"><b>Definition:</b> API_Guid.hpp:45</div></div>
<div class="ttc" id="aunion_a_p_i___element_html"><div class="ttname"><a href="union_a_p_i___element.html">API_Element</a></div><div class="ttdoc">A union collecting all known element types.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:13390</div></div>
<div class="ttc" id="aunion_a_p_i___element_html_a59d81f4709eaa435123d7343347addaa"><div class="ttname"><a href="union_a_p_i___element.html#a59d81f4709eaa435123d7343347addaa">API_Element::header</a></div><div class="ttdeci">API_Elem_Head header</div><div class="ttdoc">General element header.</div><div class="ttdef"><b>Definition:</b> APIdefs_Elements.h:13395</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>